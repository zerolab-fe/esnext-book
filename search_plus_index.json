{"./":{"url":"./","title":"ç®€ä»‹","keywords":"","body":" ECMAScript Next ç³»åˆ—æ•™ç¨‹ ğŸ“˜ è¯´æ˜ ECMAScript Next ç³»åˆ—æ•™ç¨‹ï¼Œæ˜¯å¯¹ ECMAScript 2016ã€2017ã€2018ã€2019ã€2020ã€2021 ç­‰æ–°ç‰¹æ€§çš„æ•´ç†ç¬”è®°ã€‚æœ¬æ•™ç¨‹ç³»åˆ—å°†è·Ÿéš ECMAScript å®˜æ–¹å·²ç»å®Œæˆçš„ææ¡ˆåŒæ­¥æ›´æ–°ã€‚ ğŸ“– ç›®å½• ECMAScript 2016 (ES7) ECMAScript 2017 (ES8) ECMAScript 2018 (ES9) ECMAScript 2019 (ES10) ECMAScript 2020 (ES11) ECMAScript 2021 (ES12) WIP ğŸ‘¨â€ğŸ’» ä½œè€… æœ¨å­æœ— ğŸ“„ å‚è€ƒ Finished ProposalsJavaScript å‚è€ƒ - JavaScript | MDNECMAScript 6 å…¥é—¨ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2021/es2021.html":{"url":"es2021/es2021.html","title":"ECMAScript 2021 (ES12)","keywords":"","body":"ECMAScript 2021 (ES12) ç›®å½• String.prototype.replaceAll Promise.any WeakRefs Logical Assignment Operators Numeric Separators Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2021/string-replaceall.html":{"url":"es2021/string-replaceall.html","title":"String.prototype.replaceAll","keywords":"","body":"String.prototype.replaceAll() ç®€ä»‹ åœ¨ ES2021 ä¹‹å‰ï¼Œè¦æ›¿æ¢æ‰ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰æŒ‡å®šå­—ç¬¦ï¼Œä¸å¾—ä¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ g ä¿®é¥°ç¬¦ã€‚ 'aabbcc'.replace(/b/g, '_'); // 'aa__cc' ES2021 å¯ä»¥ç”¨ String.prototype.replaceAll()æ›¿æ¢å…¨éƒ¨å­—ç¬¦ä¸²è€Œä¸éœ€è¦ä½¿ç”¨æ­£åˆ™ã€‚ 'aabbcc'.replaceAll('b', '_'); // 'aa__cc' è¯­æ³• const newStr = str.replaceAll(regexp|substr, newSubstr|function) å‚æ•° regexp(pattern) å…·æœ‰ g ä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœæ²¡æœ‰ g ä¿®é¥°ç¬¦ï¼Œå°†æŠ›å‡ºé”™è¯¯ã€‚ TypeError: \"replaceAll must be called with a global RegExp\". substr éœ€è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ newSubstr(replacement) regexp æˆ– substr è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚å…¶ä¸­å¯ä»¥ä½¿ç”¨ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä¸²ï¼š $&ï¼šåŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚$` ï¼šåŒ¹é…ç»“æœå‰é¢çš„æ–‡æœ¬ã€‚$'ï¼šåŒ¹é…ç»“æœåé¢çš„æ–‡æœ¬ã€‚$nï¼šåŒ¹é…æˆåŠŸçš„ç¬¬ n ç»„å†…å®¹ï¼Œn æ˜¯ä» 1 å¼€å§‹çš„è‡ªç„¶æ•°ã€‚è¿™ä¸ªå‚æ•°ç”Ÿæ•ˆçš„å‰ææ˜¯ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚$$ï¼šæŒ‡ä»£ç¾å…ƒç¬¦å·$ã€‚ function(replacement) replaceAll()çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•° searchValue åŒ¹é…çš„æ–‡æœ¬ã€‚ è¯¥å‡½æ•°å¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„åŒ¹é…å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ•æ‰åˆ°æ˜¯ç»„åŒ¹é…ï¼ˆæœ‰å¤šå°‘ä¸ªç»„åŒ¹é…ï¼Œå°±æœ‰å¤šå°‘ä¸ªå¯¹åº”çš„å‚æ•°ï¼‰ã€‚å€’æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„å†…å®¹åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯åŸå­—ç¬¦ä¸²ã€‚ const str = '123abc456'; const regex = /(\\d+)([a-z]+)(\\d+)/g; function replacer(match, p1, p2, p3, offset, string) { return [p1, p2, p3].join(' - '); } str.replaceAll(regex, replacer); // 123 - abc - 456 è¿”å›å€¼ å®ƒçš„ç”¨æ³•ä¸ replace()ç›¸åŒï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šæ”¹å˜åŸå­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ éå…¨å±€ regex æŠ›å‡º 'aabbcc'.replaceAll(/b/, '.'); // TypeError: replaceAll must be called with a global RegExp æ­£ç¡®ç”¨æ³•ï¼š 'aabbcc'.replaceAll(/b/g, '.'); // \"aa..cc\" Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2021/promise-any.html":{"url":"es2021/promise-any.html","title":"Promise.any","keywords":"","body":"Promise.any() ç®€ä»‹ ES2021 å¼•å…¥äº† Promise.any()æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹è¿”å›ã€‚åªè¦å‚æ•°å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆ fulfilled çŠ¶æ€ï¼Œå°±è¿”å›é‚£ä¸ªå·²ç»æˆåŠŸçš„ Promiseï¼Œå¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆ rejected çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ rejected çŠ¶æ€ã€‚è¿™ä¸ªæ–¹æ³•å’Œ Promise.all()æ˜¯ç›¸åçš„ã€‚ è¿™ä¸ªæ–¹æ³•ç”¨äºè¿”å›ç¬¬ä¸€ä¸ªæˆåŠŸçš„ Promise å®ä¾‹ã€‚åªè¦æœ‰ä¸€ä¸ª promise æˆåŠŸæ­¤æ–¹æ³•å°±ä¼šç»ˆæ­¢ï¼Œå®ƒä¸ä¼šç­‰å¾…å…¶ä»–çš„ promise å…¨éƒ¨å®Œæˆã€‚ ç¤ºä¾‹ First to fulfil const pErr = new Promise((resolve, reject) => { reject('æ€»æ˜¯å¤±è´¥'); }); const pSlow = new Promise((resolve, reject) => { setTimeout(resolve, 500, 'æœ€ç»ˆå®Œæˆ'); }); const pFast = new Promise((resolve, reject) => { setTimeout(resolve, 100, 'å¾ˆå¿«å®Œæˆ'); }); Promise.any([pErr, pSlow, pFast]).then((value) => { console.log(value); // pFast fulfils first }); // \"å¾ˆå¿«å®Œæˆ\" Rejections with AggregateError å¦‚æœæ²¡æœ‰ fulfilled (æˆåŠŸçš„) promiseï¼ŒPromise.any() è¿”å› AggregateError é”™è¯¯ã€‚ const pErr = new Promise((resolve, reject) => { reject('æ€»æ˜¯å¤±è´¥'); }); Promise.any([pErr]).catch((err) => { console.log(err); }); // \"AggregateError: No Promise in Promise.any was resolved\" æ€»ç»“ è¯­æ³• æè¿° é˜¶æ®µ Promise.all æˆåŠŸï¼šè¿”å›ç»“æœæ•°æ®\\n å¤±è´¥ï¼šè¿”å›æœ€å…ˆ reject çš„å€¼ ES2015 Promise.race è¿”å›æœ€å…ˆæœ‰ç»“æœçš„ Promise å®ä¾‹ï¼Œä¸ç®¡æˆåŠŸå¤±è´¥ ES2015 Promise.allSettled åªæœ‰ç­‰åˆ°æ‰€æœ‰è¿™äº›å‚æ•°å®ä¾‹éƒ½è¿”å›ç»“æœï¼Œä¸ç®¡æ˜¯ fulfilled è¿˜æ˜¯ rejectedï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸã€‚ ES2020 Promise.any è¿”å›ç¬¬ä¸€ä¸ªæˆåŠŸçš„ Promise å®ä¾‹ã€‚åªè¦æœ‰ä¸€ä¸ª promise æˆåŠŸæ­¤æ–¹æ³•å°±ä¼šç»ˆæ­¢ï¼Œå®ƒä¸ä¼šç­‰å¾…å…¶ä»–çš„ promise å…¨éƒ¨å®Œæˆã€‚ ES2021 Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2021/weakrefs.html":{"url":"es2021/weakrefs.html","title":"WeakRefs","keywords":"","body":"WeakRefs ç®€ä»‹ WeakRef å¯¹è±¡åŒ…å«å¯¹å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œè¿™ä¸ªå¼±å¼•ç”¨è¢«ç§°ä¸ºè¯¥ WeakRef å¯¹è±¡çš„ target æˆ–è€…æ˜¯ referentã€‚å¯¹å¯¹è±¡çš„å¼±å¼•ç”¨æ˜¯æŒ‡å½“è¯¥å¯¹è±¡åº”è¯¥è¢« GC å›æ”¶æ—¶ä¸ä¼šé˜»æ­¢ GC çš„å›æ”¶è¡Œä¸ºã€‚è€Œä¸æ­¤ç›¸åçš„ï¼Œä¸€ä¸ªæ™®é€šçš„å¼•ç”¨ï¼ˆé»˜è®¤æ˜¯å¼ºå¼•ç”¨ï¼‰ä¼šå°†ä¸ä¹‹å¯¹åº”çš„å¯¹è±¡ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚åªæœ‰å½“è¯¥å¯¹è±¡æ²¡æœ‰ä»»ä½•çš„å¼ºå¼•ç”¨æ—¶ï¼ŒJavaScript å¼•æ“ GC æ‰ä¼šé”€æ¯è¯¥å¯¹è±¡å¹¶ä¸”å›æ”¶è¯¥å¯¹è±¡æ‰€å çš„å†…å­˜ç©ºé—´ã€‚ è¯­æ³• æ„é€ å‡½æ•° WeakRef()ç”¨æ¥åˆ›å»ºä¸€ä¸ª WeakRef å¯¹è±¡ã€‚ å®ä¾‹æ–¹æ³• WeakRef.prototype.deref()è¿”å›å½“å‰å®ä¾‹çš„ WeakRef å¯¹è±¡æ‰€ç»‘å®šçš„ target å¯¹è±¡ï¼Œå¦‚æœè¯¥ target å¯¹è±¡å·²è¢« GC å›æ”¶åˆ™è¿”å› undefinedã€‚ ç¤ºä¾‹ è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†åœ¨ä¸€ä¸ª DOM å…ƒç´ ä¸­å¯åŠ¨ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå½“è¿™ä¸ªå…ƒç´ ä¸å­˜åœ¨æ—¶åœæ­¢: class Counter { constructor(element) { // Remember a weak reference to the DOM element this.ref = new WeakRef(element); this.start(); } start() { if (this.timer) { return; } this.count = 0; const tick = () => { // Get the element from the weak reference, if it still exists const element = this.ref.deref(); if (element) { element.textContent = ++this.count; } else { // The element doesn't exist anymore console.log('The element is gone.'); this.stop(); this.ref = null; } }; tick(); this.timer = setInterval(tick, 1000); } stop() { if (this.timer) { clearInterval(this.timer); this.timer = 0; } } } const counter = new Counter(document.getElementById('counter')); counter.start(); setTimeout(() => { document.getElementById('counter').remove(); }, 5000); ä¸ºä»€ä¹ˆå°½é‡é¿å…ä½¿ç”¨ æ­£ç¡®ä½¿ç”¨ WeakRef å¯¹è±¡éœ€è¦ä»”ç»†çš„è€ƒè™‘ï¼Œæœ€å¥½å°½é‡é¿å…ä½¿ç”¨ã€‚é¿å…ä¾èµ–äºè§„èŒƒæ²¡æœ‰ä¿è¯çš„ä»»ä½•ç‰¹å®šè¡Œä¸ºä¹Ÿæ˜¯ååˆ†é‡è¦çš„ã€‚ä½•æ—¶ã€å¦‚ä½•ä»¥åŠæ˜¯å¦å‘ç”Ÿåƒåœ¾å›æ”¶å–å†³äºä»»ä½•ç»™å®š JavaScript å¼•æ“çš„å®ç°ã€‚GC åœ¨ä¸€ä¸ª JavaScript å¼•æ“ä¸­çš„è¡Œä¸ºæœ‰å¯èƒ½åœ¨å¦ä¸€ä¸ª JavaScript å¼•æ“ä¸­çš„è¡Œä¸ºå¤§ç›¸å¾„åº­ï¼Œæˆ–è€…ç”šè‡³åœ¨åŒä¸€ç±»å¼•æ“ï¼Œä¸åŒç‰ˆæœ¬ä¸­ GC çš„è¡Œä¸ºéƒ½æœ‰å¯èƒ½æœ‰è¾ƒå¤§çš„å·®è·ã€‚GC ç›®å‰è¿˜æ˜¯ JavaScript å¼•æ“å®ç°è€…ä¸æ–­æ”¹è¿›å’Œæ”¹è¿›è§£å†³æ–¹æ¡ˆçš„ä¸€ä¸ªéš¾é¢˜ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2021/logical-assignment.html":{"url":"es2021/logical-assignment.html","title":"Logical Assignment Operators","keywords":"","body":"é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ ç®€ä»‹ é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ç»“åˆé€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼Œå®ƒè®©ä»£ç å˜å¾—ç®€çŸ­ã€è®©å˜é‡å’Œå¯¹è±¡å±æ€§æ¡ä»¶èµ‹å€¼å˜å¾—ç®€å•ã€‚ES2021 å°†æ¨å‡ºä¸‰ä¸ªæ–°çš„é€»è¾‘æ“ä½œç¬¦ï¼Œæ¯ä¸€ä¸ªæ“ä½œç¬¦éƒ½æœ‰ä¸¤ä¸ªè¿ç®—å…ƒã€‚ è¯­æ³• expr1 ||= expr2 expr1 &&= expr2 expr1 ??= expr2 a ||= b; // ç­‰æ•ˆäºä»¥ä¸‹ä¸¤ç§å†™æ³• // a || (a = b); aä¸ºfalsyæ—¶æ‰§è¡Œå³è¾¹ // if(!a) a = b; a &&= b; // ç­‰æ•ˆäºä»¥ä¸‹ä¸¤ç§å†™æ³• // a && (a = b); aä¸ºtruthæ—¶æ‰§è¡Œå³è¾¹ // if(a) a = b a ??= b; // ç­‰æ•ˆäºä»¥ä¸‹ä¸¤ç§å†™æ³• // a ?? (a = b); aä¸ºundefinedæˆ–nullæ—¶æ‰§è¡Œå³è¾¹ // if(a === nudefined || a === null) a = b; ç¤ºä¾‹ let obj = {}; obj.x ??= 0; console.log(obj.x); // 0 obj.x ||= 1; console.log(obj.x); // 1 obj.x &&= 2; console.log(obj.x); // 2 æ³¨æ„äº‹é¡¹ a = a || b; // ä¸ a ||= b ä¸ç­‰ä»· a = a && b; // ä¸ a &&= b ä¸ç­‰ä»· a = a ?? b; // ä¸ a ??= b ä¸ç­‰ä»· ä¸ç­‰ä»·çš„åŸå› åœ¨äºï¼Œæ— è®ºä¸Šé¢çš„æ¯ä¸ªé€»è¾‘è¡¨è¾¾å¼ç»“æœå¦‚ä½•ï¼Œéƒ½ä¼šè¿›è¡Œèµ‹å€¼è¿ç®—ï¼›è€Œé€»è¾‘èµ‹å€¼è¿ç®—ç¬¦åªä¼šåœ¨æ¡ä»¶æˆç«‹çš„æƒ…å†µä¸‹è¿›è¡Œèµ‹å€¼ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2021/numeric-separator.html":{"url":"es2021/numeric-separator.html","title":"Numeric Separators","keywords":"","body":"æ•°å€¼åˆ†éš”ç¬¦ ç®€ä»‹ ä½¿ç”¨ _ å¯¹æ•°å­—è¿›è¡Œåˆ†å‰²ï¼Œæé«˜æ•°å­—çš„å¯è¯»æ€§ï¼Œä¾‹å¦‚åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æ•°å­—é€šå¸¸æ˜¯æ¯ä¸‰ä½æ•°å­—ä¹‹é—´ä¼šç”¨ , åˆ†å‰²ï¼Œä»¥æ–¹ä¾¿äººå¿«é€Ÿè¯†åˆ«æ•°å­—ã€‚ ç¤ºä¾‹ // 1000000000 ä¸æ˜“è¾¨è¯† const count1 = 1000000000; // 1_000_000_000 å¾ˆç›´è§‚ const count2 = 1_000_000_000; console.log(count1 === count2); // true Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/es2020.html":{"url":"es2020/es2020.html","title":"ECMAScript 2020 (ES11)","keywords":"","body":"ECMAScript 2020 (ES11) ç›®å½• String.prototype.matchAll Dynamic Import BigInt Promise.allSettled globalThis for-in mechanics Optional Chaining Nullish coalescing Operator import.meta Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/string-matchall.html":{"url":"es2020/string-matchall.html","title":"String.prototype.matchAll","keywords":"","body":"String.prototype.matchAll ç®€ä»‹ ES2020 å¢åŠ äº† String.prototype.matchAll() æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰åŒ¹é…ã€‚è¯¥æ–¹æ³•è¿”å›éå†å™¨ï¼Œç›¸å¯¹äºæ•°ç»„ï¼Œå¦‚æœåŒ¹é…ç»“æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œé‚£ä¹ˆéå†å™¨æ¯”è¾ƒèŠ‚çœèµ„æºã€‚ è¯­æ³• str.matchAll(regexp) å‚æ•° regexpï¼šæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚å¦‚æœæ‰€ä¼ å‚æ•°ä¸æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šéšå¼åœ°ä½¿ç”¨ new RegExp(obj) å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª RegExpã€‚RegExp å¿…é¡»æ˜¯è®¾ç½®äº†å…¨å±€æ¨¡å¼ g çš„å½¢å¼ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ TypeErrorã€‚ è¿”å›å€¼ ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆä¸å¯é‡ç”¨ï¼Œç»“æœè€—å°½éœ€è¦å†æ¬¡è°ƒç”¨æ–¹æ³•ï¼Œè·å–ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ï¼‰ã€‚ å®ä¾‹ Regexp.exec() å’Œ matchAll() åœ¨ matchAll å‡ºç°ä¹‹å‰ï¼Œé€šè¿‡åœ¨å¾ªç¯ä¸­è°ƒç”¨ regexp.exec() æ¥è·å–æ‰€æœ‰åŒ¹é…é¡¹ä¿¡æ¯ï¼ˆregexp éœ€ä½¿ç”¨ /g æ ‡å¿—ï¼‰ const regexp = RegExp('foo[a-z]*', 'g') const str = 'table football, foosball' let match while ((match = regexp.exec(str)) !== null) { console.log(`Found ${match[0]} start=${match.index} end=${regexp.lastIndex}.`) } // expected output: \"Found football start=6 end=14.\" // expected output: \"Found foosball start=16 end=24.\" ä½¿ç”¨ matchAll ä¼šå¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨çš„è¿”å›å€¼ï¼Œé…åˆ for...of, array spread, æˆ–è€… Array.from() å¯ä»¥æ›´æ–¹ä¾¿å®ç°åŠŸèƒ½ const regexp = RegExp('foo[a-z]*', 'g') const str = 'table football, foosball' const matches = str.matchAll(regexp) Array.from(str.matchAll(regexp), (m) => m[0]) // Array [ \"football\", \"foosball\" ] å¦‚æœæ²¡æœ‰ /g æ ‡å¿—ï¼ŒmatchAll ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ const regexp = RegExp('[a-c]', '') const str = 'abc' Array.from(str.matchAll(regexp), (m) => m[0]) // TypeError: String.prototype.matchAll called with a non-global RegExp argument matchAll ç›¸æ¯” match å¯ä»¥è·å–æ•è·ç»„ å½“ä½¿ç”¨ match() å’Œ /g æ ‡å¿—æ–¹å¼è·å–åŒ¹é…ä¿¡æ¯æ—¶ï¼Œæ•è·ç»„ä¼šè¢«å¿½ç•¥ var regexp = /t(e)(st(\\d?))/g var str = 'test1test2' str.match(regexp) // Array ['test1', 'test2'] ä½¿ç”¨ matchAll å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è·å–åˆ†ç»„æ•è· let array = [...str.matchAll(regexp)] array[0] // ['test1', 'e', 'st1', '1', index: 0, input: 'test1test2', length: 4] array[1] // ['test2', 'e', 'st2', '2', index: 5, input: 'test1test2', length: 4] Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/dynamic-import.html":{"url":"es2020/dynamic-import.html","title":"Dynamic Import","keywords":"","body":"import() å‡½æ•° ç®€ä»‹ import å‘½ä»¤è¢« JavaScript å¼•æ“é™æ€åˆ†æï¼Œå…ˆäºæ¨¡å—å†…çš„å…¶ä»–è¯­å¥æ‰§è¡Œï¼Œæ— æ³•å–ä»£ require() çš„åŠ¨æ€åŠ è½½åŠŸèƒ½ï¼Œææ¡ˆå»ºè®®å¼•å…¥ä¸ require æ–¹æ³•ç±»ä¼¼çš„ import æ–¹æ³•ã€‚ è¯­æ³• import(specifier) ä¸Šé¢ä»£ç ä¸­ï¼Œimport å‡½æ•°çš„å‚æ•° specifierï¼ŒæŒ‡å®šæ‰€è¦åŠ è½½çš„æ¨¡å—çš„ä½ç½®ã€‚import å‘½ä»¤èƒ½å¤Ÿæ¥å—ä»€ä¹ˆå‚æ•°ï¼Œimport() å‡½æ•°å°±èƒ½æ¥å—ä»€ä¹ˆå‚æ•°ï¼Œä¸¤è€…åŒºåˆ«ä¸»è¦æ˜¯åè€…ä¸ºåŠ¨æ€åŠ è½½ã€‚ è¿”å›å€¼ import() è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚æ¥çœ‹ä¸€ä¸ªå®˜æ–¹ä¾‹å­ã€‚ Books Movies Video Games Content will load here! const main = document.querySelector('main') for (const link of document.querySelectorAll('nav > a')) { link.addEventListener('click', (e) => { e.preventDefault() import(`./section-modules/${link.dataset.entryModule}.js`) .then((module) => { module.loadPageInto(main) }) .catch((err) => { main.textContent = err.message }) }) } ä¸Šé¢çš„ä»£ç ï¼Œimport()å‡½æ•°æ˜¯è¿è¡Œæ—¶æ‰§è¡Œï¼Œç±»ä¼¼äº Node çš„ require æ–¹æ³•ï¼ŒåŒºåˆ«ä¸»è¦æ˜¯å‰è€…æ˜¯å¼‚æ­¥åŠ è½½ï¼Œåè€…æ˜¯åŒæ­¥åŠ è½½ã€‚ å®ä¾‹ æŒ‰éœ€åŠ è½½ button.addEventListener('click', (event) => { import('./dialogBox.js') .then((dialogBox) => { dialogBox.open() }) .catch((error) => { /* Error handling */ }) }) ä¸Šé¢ä»£ç ä¸­ï¼Œimport()æ–¹æ³•æ”¾åœ¨ click äº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¹‹ä¸­ï¼Œåªæœ‰ç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®ï¼Œæ‰ä¼šåŠ è½½è¿™ä¸ªæ¨¡å—ã€‚ æ¡ä»¶åŠ è½½ if (condition) { import('moduleA').then(...); } else { import('moduleB').then(...); } import()å¯ä»¥æ”¾åœ¨ if ä»£ç å—ï¼Œæ ¹æ®ä¸åŒçš„æƒ…å†µï¼ŒåŠ è½½ä¸åŒçš„æ¨¡å—ã€‚ åŠ¨æ€çš„æ¨¡å—è·¯å¾„ import(f()) .then(...); ä¸Šé¢ä»£ç ä¸­ï¼Œæ ¹æ®å‡½æ•° f çš„è¿”å›ç»“æœï¼ŒåŠ è½½ä¸åŒçš„æ¨¡å—ã€‚ åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨ async function main() { const myModule = await import('./myModule.js') const { export1, export2 } = await import('./myModule.js') const [module1, module2, module3] = await Promise.all([ import('./module1.js'), import('./module2.js'), import('./module3.js'), ]) } Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/bigint.html":{"url":"es2020/bigint.html","title":"BigInt","keywords":"","body":"BigInt ç®€ä»‹ JavaScript æ‰€æœ‰æ•°å­—éƒ½ä¿å­˜æˆ 64 ä½æµ®ç‚¹æ•°ï¼Œè¿™ç»™æ•°å€¼çš„è¡¨ç¤ºå¸¦æ¥äº†å¾ˆå¤§é™åˆ¶ã€‚ä¸€æ˜¯æ•°å€¼çš„ç²¾åº¦åªèƒ½åˆ° 53 ä¸ªäºŒè¿›åˆ¶ï¼ˆç›¸å½“äº 16 ä¸ªåè¿›åˆ¶ä½ï¼‰ï¼Œå¤§äºè¿™ä¸ªèŒƒå›´çš„æ•´æ•°ï¼ŒJavaScript æ˜¯æ— æ³•ç²¾ç¡®è¡¨ç¤ºçš„ï¼Œè¿™ä½¿å¾— JavaScript ä¸é€‚åˆè¿›è¡Œç§‘å­¦å’Œé‡‘èæ–¹é¢çš„ç²¾ç¡®è®¡ç®—ã€‚äºŒæ˜¯å¤§äºæˆ–ç­‰äº 2 çš„ 1024 æ¬¡æ–¹çš„æ•°å€¼ï¼ŒJavaScript æ— æ³•è¡¨ç¤ºï¼Œä¼šè¿”å› Infinityã€‚ ES2020 å¼•å…¥äº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼ˆå¤§æ•´æ•°ï¼‰ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯ ECMAScript çš„ç¬¬å…«ç§æ•°æ®ç±»å‹ã€‚BigInt åªç”¨æ¥è¡¨ç¤ºæ•´æ•°ï¼Œæ²¡æœ‰ä½æ•°çš„é™åˆ¶ï¼Œä»»ä½•ä½æ•°çš„æ•´æ•°éƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚ è¯­æ³• å®šä¹‰ä¸€ä¸ª BigInt å¯ä»¥ç”¨åœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡åé¢åŠ  n çš„æ–¹å¼å®šä¹‰ä¸€ä¸ª BigIntã€‚ const a = 9007199254740991n è°ƒç”¨å‡½æ•° BigInt()ã€‚ const b = BigInt(9007199254740991) ç±»å‹åˆ¤æ–­ ä½¿ç”¨ typeof åˆ¤æ–­ç±»å‹ï¼ŒBigInt å¯¹è±¡è¿”å› \"bigint\" typeof 1n === 'bigint' // true typeof BigInt('1') === 'bigint' // true ä½¿ç”¨ Object åŒ…è£…åï¼Œ BigInt è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ™®é€š \"object\" typeof Object(1n) === 'object' // true ç±»å‹è½¬æ¢ å¯ä»¥ä½¿ç”¨ Boolean()ã€Number()å’Œ String()è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œå°† BigInt å¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ã€æ•°å€¼å’Œå­—ç¬¦ä¸²ç±»å‹ã€‚ Boolean(0n) // false Boolean(1n) // true Number(1n) // 1 String(1n) // \"1\" å¦å¤–ï¼Œå–åè¿ç®—ç¬¦ï¼ˆ!ï¼‰ä¹Ÿå¯ä»¥å°† BigInt è½¬ä¸ºå¸ƒå°”å€¼ã€‚ !0n // true !1n // false è¿ç®— ä»¥ä¸‹æ“ä½œç¬¦å¯ä»¥å’Œ BigInt ä¸€èµ·ä½¿ç”¨ï¼š +ã€*ã€-ã€**ã€% ã€‚é™¤ >>>ï¼ˆæ— ç¬¦å·å³ç§»ï¼‰ä¹‹å¤–çš„ä½æ“ä½œä¹Ÿå¯ä»¥æ”¯æŒã€‚å› ä¸º BigInt éƒ½æ˜¯æœ‰ç¬¦å·çš„ï¼Œ >>>ï¼ˆæ— ç¬¦å·å³ç§»ï¼‰ä¸èƒ½ç”¨äº BigIntã€‚ä¸ºäº†å…¼å®¹ asm.jsï¼ŒBigInt ä¸æ”¯æŒå•ç›® (+) è¿ç®—ç¬¦ã€‚ é™¤æ³•è¿ç®— / ç»“æœä¼šå‘é›¶å–æ•´ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šè¿”å›å°æ•°éƒ¨åˆ†ã€‚ const expected = 4n / 2n // 2n const rounded = 5n / 2n // 2n, not 2.5n BigInt ä¸èƒ½ä¸æ™®é€šæ•°å€¼è¿›è¡Œæ··åˆè¿ç®—ã€‚ 1n + 1.3 // æŠ¥é”™ ä¸Šé¢ä»£ç æŠ¥é”™æ˜¯å› ä¸ºæ— è®ºè¿”å›çš„æ˜¯ BigInt æˆ– Numberï¼Œéƒ½ä¼šå¯¼è‡´ä¸¢å¤±ç²¾åº¦ä¿¡æ¯ã€‚æ¯”å¦‚ (2n**53n + 1n) + 0.5 è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚æœè¿”å› BigInt ç±»å‹ï¼Œ0.5 è¿™ä¸ªå°æ•°éƒ¨åˆ†ä¼šä¸¢å¤±ï¼›å¦‚æœè¿”å› Number ç±»å‹ï¼Œæœ‰æ•ˆç²¾åº¦åªèƒ½ä¿æŒ 53 ä½ï¼Œå¯¼è‡´ç²¾åº¦ä¸‹é™ã€‚ åŒæ ·çš„åŸå› ï¼Œå¦‚æœä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°çš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œä½†æ˜¯å¾—åˆ°çš„æ˜¯ä¸€ä¸ª BigIntï¼Œå°±ä¼šæŠ¥é”™ã€‚ // é”™è¯¯çš„å†™æ³• Math.sqrt(4n) // æŠ¥é”™ // æ­£ç¡®çš„å†™æ³• Math.sqrt(Number(4n)) // 2 ä¸Šé¢ä»£ç ä¸­ï¼ŒMath.sqrt çš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œå¦‚æœæ˜¯ BigInt å°±ä¼šæŠ¥é”™ï¼Œå¿…é¡»å…ˆç”¨ Number æ–¹æ³•è½¬ä¸€ä¸‹ç±»å‹ï¼Œæ‰èƒ½è¿›è¡Œè®¡ç®—ã€‚ æ¯”è¾ƒ BigInt å’Œ Number ä¸æ˜¯ä¸¥æ ¼ç›¸ç­‰çš„ï¼Œä½†æ˜¯å®½æ¾ç›¸ç­‰çš„ã€‚ 0n === 0 // false 0n == 0 // true ä¸¤è€…ä¹Ÿå¯ä»¥æ··åœ¨ä¸€ä¸ªæ•°ç»„å†…å¹¶æ’åºã€‚ const mixed = [4n, 6, -12n, 10, 4, 0, 0n] // [4n, 6, -12n, 10, 4, 0, 0n] mixed.sort() // [-12n, 0, 0n, 10, 4n, 4, 6] æ¡ä»¶ BigInt è½¬æ¢æˆ Boolean çš„æ—¶è¡¨ç°è·Ÿ Number ç±»ä¼¼ã€‚ if (0n) { console.log('Hello from the if!') } else { console.log('Hello from the else!') } // \"Hello from the else!\" 0n || 12n // 12n 0n && 12n // 0n Boolean(0n) // false Boolean(12n) // true !12n // false !0n // true é™æ€æ–¹æ³• BigInt.asIntN() å°† BigInt å€¼è½¬æ¢ä¸ºä¸€ä¸ª -2width-1 ä¸ 2width-1-1 ä¹‹é—´çš„æœ‰ç¬¦å·æ•´æ•°ã€‚ BigInt.asUintN() å°†ä¸€ä¸ª BigInt å€¼è½¬æ¢ä¸º 0 ä¸ 2width-1 ä¹‹é—´çš„æ— ç¬¦å·æ•´æ•°ã€‚ BigInt.parseInt() è¿‘ä¼¼äºNumber.parseInt()ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæŒ‡å®šè¿›åˆ¶çš„ BigIntã€‚ å®ä¾‹æ–¹æ³• BigInt å¯¹è±¡ç»§æ‰¿äº† Object å¯¹è±¡çš„ä¸¤ä¸ªå®ä¾‹æ–¹æ³•ã€‚ BigInt.prototype.toString() BigInt.prototype.valueOf() ç»§æ‰¿äº† Number å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•ã€‚ BigInt.prototype.toLocaleString() Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/promise-allSettled.html":{"url":"es2020/promise-allSettled.html","title":"Promise.allSettled","keywords":"","body":"Promise.allSettled ç®€ä»‹ å¦‚æœç­‰å¾…å¤šä¸ª promise è¿”å›ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ Promise.all([promise_1, promise_2])ã€‚ä½†æ˜¯è¯¥æ–¹æ³•å¦‚æœå…¶ä¸­ä¸€ä¸ªè¯·æ±‚å¤±è´¥äº†ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›æŸä¸ªè¯·æ±‚å¤±è´¥åï¼Œå…¶ä»–è¯·æ±‚çš„ç»“æœèƒ½å¤Ÿæ­£å¸¸è¿”å›ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µ ES2020 å¼•å…¥äº† Promise.allSettled() æ–¹æ³• ã€‚ è¯­æ³• Promise.allSettled()æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚åªæœ‰ç­‰åˆ°æ‰€æœ‰è¿™äº›å‚æ•°å®ä¾‹éƒ½è¿”å›ç»“æœï¼Œä¸ç®¡æ˜¯ fulfilled è¿˜æ˜¯ rejectedï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸã€‚ const promise1 = Promise.resolve(3) const promise2 = new Promise((resolve, reject) => setTimeout(reject, 100, 'foo')) const promises = [promise1, promise2] Promise.allSettled(promises).then((results) => results.forEach((result) => console.log(result))) // Object { status: \"fulfilled\", value: 3 } // Object { status: \"rejected\", reason: \"foo\" } è¯¥æ–¹æ³•è¿”å›çš„æ–°çš„ Promise å®ä¾‹ï¼Œä¸€æ—¦ç»“æŸï¼ŒçŠ¶æ€æ€»æ˜¯ fulfilledï¼Œä¸ä¼šå˜æˆ rejectedã€‚çŠ¶æ€å˜æˆ fulfilled åï¼ŒPromise çš„ç›‘å¬å‡½æ•°æ¥æ”¶åˆ°çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹åº”ä¼ å…¥ Promise.allSettled()çš„ä¸¤ä¸ª Promise å®ä¾‹ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ status å±æ€§ï¼Œè¯¥å±æ€§çš„å€¼åªå¯èƒ½æ˜¯å­—ç¬¦ä¸² fulfilled æˆ–å­—ç¬¦ä¸² rejectedã€‚fulfilled æ—¶ï¼Œå¯¹è±¡æœ‰ value å±æ€§ï¼Œrejected æ—¶æœ‰ reason å±æ€§ï¼Œå¯¹åº”ä¸¤ç§çŠ¶æ€çš„è¿”å›å€¼ã€‚ æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å…³å¿ƒå¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œåªå…³å¿ƒè¿™äº›æ“ä½œæœ‰æ²¡æœ‰ç»“æŸã€‚è¿™æ—¶ï¼ŒPromise.allSettled()æ–¹æ³•å°±å¾ˆæœ‰ç”¨ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/global.html":{"url":"es2020/global.html","title":"globalThis","keywords":"","body":"globalThis å¯¹è±¡ ç®€ä»‹ JavaScript è¯­è¨€å­˜åœ¨ä¸€ä¸ªé¡¶å±‚å¯¹è±¡ï¼Œå®ƒæä¾›å…¨å±€ç¯å¢ƒï¼ˆå³å…¨å±€ä½œç”¨åŸŸï¼‰ï¼Œæ‰€æœ‰ä»£ç éƒ½æ˜¯åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œã€‚ä½†æ˜¯ï¼Œé¡¶å±‚å¯¹è±¡åœ¨å„ç§å®ç°é‡Œé¢æ˜¯ä¸ç»Ÿä¸€çš„ã€‚åœ¨ Web ä¸­ï¼Œå¯ä»¥é€šè¿‡ windowã€self æˆ–è€… frames å–åˆ°å…¨å±€å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ Web Workers ä¸­ï¼Œåªæœ‰ self å¯ä»¥ã€‚åœ¨ Node.js ä¸­ï¼Œå®ƒä»¬éƒ½æ— æ³•è·å–ï¼Œå¿…é¡»ä½¿ç”¨ globalã€‚ åŒä¸€æ®µä»£ç ä¸ºäº†èƒ½å¤Ÿåœ¨å„ç§ç¯å¢ƒï¼Œéƒ½èƒ½å–åˆ°é¡¶å±‚å¯¹è±¡ï¼Œç°åœ¨ä¸€èˆ¬æ˜¯ä½¿ç”¨ this å˜é‡ï¼Œä½†æ˜¯æœ‰å±€é™æ€§ã€‚ å…¨å±€ç¯å¢ƒä¸­ï¼Œthis ä¼šè¿”å›é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼ŒNode.js æ¨¡å—ä¸­ this è¿”å›çš„æ˜¯å½“å‰æ¨¡å—ï¼ŒES6 æ¨¡å—ä¸­ this è¿”å›çš„æ˜¯ undefinedã€‚ å‡½æ•°é‡Œé¢çš„ thisï¼Œå¦‚æœå‡½æ•°ä¸æ˜¯ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¿è¡Œï¼Œè€Œæ˜¯å•çº¯ä½œä¸ºå‡½æ•°è¿è¡Œï¼Œthis ä¼šæŒ‡å‘é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™æ—¶ this ä¼šè¿”å› undefinedã€‚ ä¸ç®¡æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œè¿˜æ˜¯æ™®é€šæ¨¡å¼ï¼Œnew Function('return this')()ï¼Œæ€»æ˜¯ä¼šè¿”å›å…¨å±€å¯¹è±¡ã€‚è™½ç„¶å¯ä»¥é€šè¿‡æ­¤æ–¹å¼è·å–å…¨å±€å¯¹è±¡ï¼Œä½†æ˜¯ï¼Œå¦‚æœæµè§ˆå™¨ç”¨äº† CSPï¼ˆContent Security Policyï¼Œå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰ï¼Œé‚£ä¹ˆ evalã€new Function è¿™äº›æ–¹æ³•éƒ½å¯èƒ½æ— æ³•ä½¿ç”¨ã€‚ ES2020 å¼•å…¥äº† globalThis ä½œä¸ºé¡¶å±‚å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä»»ä½•ç¯å¢ƒä¸‹ï¼Œéƒ½å¯ä»¥é€šè¿‡ globalThis æ¥æ‹¿åˆ°é¡¶å±‚å¯¹è±¡ã€‚ ç¤ºä¾‹ åœ¨ globalThis å‡ºç°ä¹‹å‰ var getGlobal = function () { if (typeof self !== 'undefined') { return self } if (typeof window !== 'undefined') { return window } if (typeof global !== 'undefined') { return global } throw new Error('unable to locate global object') } var globals = getGlobal() if (typeof globals.setTimeout !== 'function') { // æ­¤ç¯å¢ƒä¸­æ²¡æœ‰ setTimeout æ–¹æ³•ï¼ } æœ‰äº† globalThis ä¹‹å if (typeof globalThis.setTimeout !== 'function') { // æ­¤ç¯å¢ƒä¸­æ²¡æœ‰ setTimeout æ–¹æ³•ï¼ } Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/for-in-order.html":{"url":"es2020/for-in-order.html","title":"for-in mechanics","keywords":"","body":"Specifying for-in enumeration order ç®€ä»‹ ä»¥å‰åœ¨ä¸åŒçš„å¼•æ“ä¸‹ for in å¾ªç¯å‡ºæ¥çš„å†…å®¹é¡ºåºæ˜¯å¯èƒ½ä¸ä¸€æ ·çš„ï¼Œç°åœ¨æ ‡å‡†åŒ–äº†ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/optional-chaining.html":{"url":"es2020/optional-chaining.html","title":"Optional Chaining","keywords":"","body":"Optional Chaining å¯é€‰é“¾æ“ä½œç¬¦ ç®€ä»‹ åœ¨ç¼–ç¨‹ä¸­ï¼Œå¦‚æœè¯»å–å¯¹è±¡å†…éƒ¨çš„æŸä¸ªå±æ€§ï¼Œå¾€å¾€éœ€è¦åˆ¤æ–­ä¸€ä¸‹è¯¥å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚æ¯”å¦‚ï¼Œè¦è¯»å– message.body.user.firstNameï¼Œå®‰å…¨çš„å†™æ³•æ˜¯å†™æˆä¸‹é¢è¿™æ ·ã€‚ const firstName = (message && message.body && message.body.user && message.body.user.firstName) || 'default' ä¸Šé¢ä¾‹å­ä¸­ï¼ŒfirstName å±æ€§åœ¨å¯¹è±¡çš„ç¬¬å››å±‚ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­å››æ¬¡ï¼Œæ¯ä¸€å±‚æ˜¯å¦æœ‰å€¼ã€‚ è¿™æ ·çš„å±‚å±‚åˆ¤æ–­éå¸¸éº»çƒ¦ï¼Œå› æ­¤ ES2020 å¼•å…¥äº†â€œå¯é€‰é“¾æ“ä½œç¬¦â€ï¼ˆoptional chaining operatorï¼‰?.ï¼Œç®€åŒ–ä¸Šé¢çš„å†™æ³•ã€‚ const firstName = message?.body?.user?.firstName || 'default' è¯­æ³• obj?.prop // å¯¹è±¡å±æ€§obj?.[expr] // å¯¹è±¡å±æ€§arr?.[index] // æ•°ç»„å–å€¼func?.(args) // å‡½æ•°æˆ–å¯¹è±¡æ–¹æ³•çš„è°ƒç”¨ åŸºæœ¬ä½¿ç”¨ let myMap = new Map() myMap.set('foo', { name: 'baz', desc: 'inga' }) myMap.get('bar')?.name // undefined è¡¨è¾¾å¼ let nestedProp = obj?.['prop' + 'Name'] å‡½æ•°è°ƒç”¨ let result = someInterface.customMethod?.() è®¿é—®æ•°ç»„ let arrayItem = arr?.[42] çŸ­è·¯è®¡ç®— å½“åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨å¯é€‰é“¾æ—¶ï¼Œå¦‚æœå·¦æ“ä½œæ•°æ˜¯ null æˆ– undefinedï¼Œè¡¨è¾¾å¼å°†ä¸ä¼šè¢«è®¡ç®—ï¼Œä¾‹å¦‚ï¼š let potentiallyNullObj = null let x = 0 let prop = potentiallyNullObj?.[x++] console.log(x) // x å°†ä¸ä¼šè¢«é€’å¢ï¼Œä¾æ—§è¾“å‡º 0 delete è¿ç®—ç¬¦ delete a?.b // ç­‰åŒäº a == null ? undefined : delete a.b ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœ a æ˜¯ undefined æˆ– nullï¼Œä¼šç›´æ¥è¿”å› undefinedï¼Œè€Œä¸ä¼šè¿›è¡Œ delete è¿ç®—ã€‚ ä½¿ç”¨ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ ç©ºå€¼åˆå¹¶æ“ä½œç¬¦å¯ä»¥åœ¨ä½¿ç”¨å¯é€‰é“¾æ—¶è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼š let customer = { name: 'Carl', details: { age: 82 }, } let customerCity = customer?.city ?? 'æœ¨å­æœ—' console.log(customerCity) // \"æœ¨å­æœ—\" æ‹¬å·çš„å½±å“ å¦‚æœå±æ€§é“¾æœ‰åœ†æ‹¬å·ï¼Œé“¾åˆ¤æ–­è¿ç®—ç¬¦å¯¹åœ†æ‹¬å·å¤–éƒ¨æ²¡æœ‰å½±å“ï¼Œåªå¯¹åœ†æ‹¬å·å†…éƒ¨æœ‰å½±å“ã€‚ ;(a?.b).c( // ç­‰ä»·äº a == null ? undefined : a.b, ).c ä¸Šé¢ä»£ç ä¸­ï¼Œ?.å¯¹åœ†æ‹¬å·å¤–éƒ¨æ²¡æœ‰å½±å“ï¼Œä¸ç®¡ a å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œåœ†æ‹¬å·åé¢çš„.c æ€»æ˜¯ä¼šæ‰§è¡Œã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨?.è¿ç®—ç¬¦çš„åœºåˆï¼Œä¸åº”è¯¥ä½¿ç”¨åœ†æ‹¬å·ã€‚ ä¸èƒ½ç”¨äºèµ‹å€¼ let object = {} object?.property = 1 // Uncaught SyntaxError: Invalid left-hand side in assignment å³ä¾§ä¸å¾—ä¸ºåè¿›åˆ¶æ•°å€¼ ä¸ºäº†ä¿è¯å…¼å®¹ä»¥å‰çš„ä»£ç ï¼Œå…è®¸ foo?.3:0 è¢«è§£ææˆ foo ? .3 : 0ï¼Œå› æ­¤è§„å®šå¦‚æœ?.åé¢ç´§è·Ÿä¸€ä¸ªåè¿›åˆ¶æ•°å­—ï¼Œé‚£ä¹ˆ?.ä¸å†è¢«çœ‹æˆæ˜¯ä¸€ä¸ªå®Œæ•´çš„è¿ç®—ç¬¦ï¼Œè€Œä¼šæŒ‰ç…§ä¸‰å…ƒè¿ç®—ç¬¦è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé‚£ä¸ªå°æ•°ç‚¹ä¼šå½’å±äºåé¢çš„åè¿›åˆ¶æ•°å­—ï¼Œå½¢æˆä¸€ä¸ªå°æ•°ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/nullish-coalescing.html":{"url":"es2020/nullish-coalescing.html","title":"Nullish coalescing Operator","keywords":"","body":"ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ ç®€ä»‹ å½“è¯»å–å¯¹è±¡å±æ€§çš„æ—¶å€™ï¼Œå¦‚æœæŸä¸ªå±æ€§çš„å€¼æ˜¯ null æˆ– undefinedï¼Œæœ‰æ—¶å€™éœ€è¦ä¸ºå®ƒä»¬æŒ‡å®šé»˜è®¤å€¼ã€‚å¸¸è§åšæ³•æ˜¯é€šè¿‡||è¿ç®—ç¬¦æŒ‡å®šé»˜è®¤å€¼ã€‚ const text = settings.headerText || 'Hello, world!' å¼€å‘è€…çš„ç›®çš„æ˜¯ï¼Œå±æ€§çš„å€¼ä¸º null æˆ– undefinedï¼Œé»˜è®¤å€¼ç”Ÿæ•ˆï¼Œä½†æ˜¯å±æ€§çš„å€¼å¦‚æœä¸ºç©ºå­—ç¬¦ä¸²æˆ– false æˆ– 0ï¼Œé»˜è®¤å€¼ä¹Ÿä¼šç”Ÿæ•ˆã€‚ ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒES2020 å¼•å…¥äº†ç©ºå€¼åˆå¹¶æ“ä½œç¬¦??ã€‚ç©ºå€¼åˆå¹¶æ“ä½œç¬¦æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º null æˆ–è€… undefined æ—¶ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚ è¯­æ³• ä½¿ç”¨ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½¿ç”¨ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¸ºå¸¸é‡æä¾›é»˜è®¤å€¼ï¼Œä¿è¯å¸¸é‡ä¸ä¸º null æˆ–è€… undefinedã€‚ const nullValue = null const emptyText = '' // ç©ºå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªå‡å€¼ï¼ŒBoolean(\"\") === false const someNumber = 42 const valA = nullValue ?? 'valA çš„é»˜è®¤å€¼' const valB = emptyText ?? 'valB çš„é»˜è®¤å€¼' const valC = someNumber ?? 0 console.log(valA) // \"valA çš„é»˜è®¤å€¼\" console.log(valB) // \"\"ï¼ˆç©ºå­—ç¬¦ä¸²è™½ç„¶æ˜¯å‡å€¼ï¼Œä½†ä¸æ˜¯ null æˆ–è€… undefinedï¼‰ console.log(valC) // 42 çŸ­è·¯ ä¸ OR å’Œ AND é€»è¾‘æ“ä½œç¬¦ç›¸ä¼¼ï¼Œå½“å·¦è¡¨è¾¾å¼ä¸ä¸º null æˆ– undefined æ—¶ï¼Œä¸ä¼šå¯¹å³è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚ function foo() { console.log('å‡½æ•° foo è¢«è°ƒç”¨äº†') } console.log(undefined ?? foo()) // \"å‡½æ•° foo è¢«è°ƒç”¨äº†\" console.log(false ?? foo()) // å³ä¾§è¡¨è¾¾å¼æ²¡æœ‰è¢«æ‰§è¡Œ ä¸ AND æˆ– OR æ“ä½œç¬¦å…±ç”¨ï¼Œéœ€è¦å¸¦ () // æŠ¥é”™ lhs && middle ?? rhs lhs ?? middle && rhs lhs || middle ?? rhs lhs ?? middle || rhs åŠ å…¥æ‹¬å·è¡¨ç¤ºä¼˜å…ˆçº§ ;(lhs && middle) ?? rhs lhs && (middle ?? rhs)(lhs ?? middle) && rhs lhs ?? (middle && rhs)(lhs || middle) ?? rhs lhs || (middle ?? rhs)(lhs ?? middle) || rhs lhs ?? (middle || rhs) Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2020/import-meta.html":{"url":"es2020/import-meta.html","title":"import.meta","keywords":"","body":"import.meta ç®€ä»‹ å¼€å‘è€…ä½¿ç”¨ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œæœ‰æ—¶éœ€è¦çŸ¥é“æ¨¡æ¿æœ¬èº«çš„ä¸€äº›ä¿¡æ¯ï¼ˆæ¯”å¦‚æ¨¡å—çš„è·¯å¾„ï¼‰ã€‚ES2020 ä¸º import å‘½ä»¤æ·»åŠ äº†ä¸€ä¸ªå…ƒå±æ€§ import.metaï¼Œè¿”å›å½“å‰æ¨¡å—çš„å…ƒä¿¡æ¯ã€‚ è¯­æ³• import.meta åªèƒ½åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨ï¼Œå¦‚æœåœ¨æ¨¡å—å¤–éƒ¨ä½¿ç”¨ä¼šæŠ¥é”™ã€‚ è¿™ä¸ªå±æ€§è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„å„ç§å±æ€§å°±æ˜¯å½“å‰è¿è¡Œçš„è„šæœ¬çš„å…ƒä¿¡æ¯ã€‚å…·ä½“åŒ…å«å“ªäº›å±æ€§ï¼Œæ ‡å‡†æ²¡æœ‰è§„å®šï¼Œç”±å„ä¸ªè¿è¡Œç¯å¢ƒè‡ªè¡Œå†³å®šã€‚ä¸€èˆ¬æ¥è¯´ï¼Œimport.meta è‡³å°‘ä¼šæœ‰ä¸‹é¢ä¸¤ä¸ªå±æ€§ã€‚ import.meta.url import.meta.url è¿”å›å½“å‰æ¨¡å—çš„ URL è·¯å¾„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå½“å‰æ¨¡å—ä¸»æ–‡ä»¶çš„è·¯å¾„æ˜¯ https://foo.com/main.jsï¼Œimport.meta.url å°±è¿”å›è¿™ä¸ªè·¯å¾„ã€‚å¦‚æœæ¨¡å—é‡Œé¢è¿˜æœ‰ä¸€ä¸ªæ•°æ®æ–‡ä»¶ data.txtï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç ï¼Œè·å–è¿™ä¸ªæ•°æ®æ–‡ä»¶çš„è·¯å¾„ã€‚ new URL('data.txt', import.meta.url) æ³¨æ„ï¼ŒNode.js ç¯å¢ƒä¸­ï¼Œimport.meta.url è¿”å›çš„æ€»æ˜¯æœ¬åœ°è·¯å¾„ï¼Œå³æ˜¯ file:URL åè®®çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ file:///home/user/foo.jsã€‚ import.meta.scriptElement import.meta.scriptElement æ˜¯æµè§ˆå™¨ç‰¹æœ‰çš„å…ƒå±æ€§ï¼Œè¿”å›åŠ è½½æ¨¡å—çš„é‚£ä¸ªå…ƒç´ ï¼Œç›¸å½“äº document.currentScript å±æ€§ã€‚ // HTML ä»£ç ä¸º // // my-module.js å†…éƒ¨æ‰§è¡Œä¸‹é¢çš„ä»£ç  import.meta.scriptElement.dataset.foo // \"abc\" Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/es2019.html":{"url":"es2019/es2019.html","title":"ECMAScript 2019 (ES10)","keywords":"","body":"ECMAScript 2019 (ES10) ç›®å½• Optional catch binding JSON superset Symbol.prototype.description Function.prototype.toString Object.fromEntries Well-formed JSON.stringify String.prototype.{trimStart,trimEnd} Array.prototype.{flat,flatMap} Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/optional-catch-binding.html":{"url":"es2019/optional-catch-binding.html","title":"Optional catch binding","keywords":"","body":"å¯é€‰çš„ catch å‚æ•° JavaScript è¯­è¨€çš„ try...catch ç»“æ„ï¼Œä»¥å‰æ˜ç¡®è¦æ±‚ catch å‘½ä»¤åé¢å¿…é¡»è·Ÿå‚æ•°ï¼Œæ¥å— try ä»£ç å—æŠ›å‡ºçš„é”™è¯¯å¯¹è±¡ã€‚ try { // ... } catch (err) { // å¤„ç†é”™è¯¯ } ä¸Šé¢ä»£ç ä¸­ï¼Œcatch å‘½ä»¤åé¢å¸¦æœ‰å‚æ•° errã€‚ å¾ˆå¤šæ—¶å€™ï¼Œcatch ä»£ç å—å¯èƒ½ç”¨ä¸åˆ°è¿™ä¸ªå‚æ•°ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¿è¯è¯­æ³•æ­£ç¡®å¿…é¡»å†™ã€‚ES2019 å…è®¸ catch è¯­å¥çœç•¥å‚æ•°ã€‚ try { // ... } catch { // ... } Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/json-superset.html":{"url":"es2019/json-superset.html","title":"JSON superset","keywords":"","body":"JSON è¶…é›† ä¹‹å‰å¦‚æœ JSON å­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰è¡Œåˆ†éš”ç¬¦(\\u2028) å’Œæ®µè½åˆ†éš”ç¬¦(\\u2029)ï¼Œé‚£ä¹ˆåœ¨è§£æè¿‡ç¨‹ä¸­ä¼šæŠ¥é”™ã€‚ JSON.parse('\"\\u2028\"') // SyntaxError ç°åœ¨ ES2019 å¯¹å®ƒä»¬æä¾›äº†æ”¯æŒã€‚ JSON.parse('\"\\u2028\"') // '' Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/symbol-description.html":{"url":"es2019/symbol-description.html","title":"Symbol.prototype.description","keywords":"","body":"Symbol.prototype.description ç®€ä»‹ ES2019 æä¾›äº†ä¸€ä¸ªå®ä¾‹å±æ€§ descriptionï¼Œç›´æ¥è¿”å› Symbol çš„æè¿°ã€‚description æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ã€‚ è¯­æ³• Symbol('myDescription').description;Symbol.iterator.description;Symbol.for('foo').description; åˆ›å»º Symbol çš„æ—¶å€™ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªæè¿°ã€‚ const sym = Symbol('foo') ä¸Šé¢ä»£ç ä¸­ï¼Œsym çš„æè¿°å°±æ˜¯å­—ç¬¦ä¸² fooã€‚ ç¤ºä¾‹ï¼š Symbol('desc').toString() // \"Symbol(desc)\" Symbol('desc').description // \"desc\" Symbol('').description // \"\" Symbol().description // undefined // well-known symbols Symbol.iterator.toString() // \"Symbol(Symbol.iterator)\" Symbol.iterator.description // \"Symbol.iterator\" // global symbols Symbol.for('foo').toString() // \"Symbol(foo)\" Symbol.for('foo').description // \"foo\" Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/function-prototype-toString-revision.html":{"url":"es2019/function-prototype-toString-revision.html","title":"Function.prototype.toString","keywords":"","body":"Function.prototype.toString ES2019 å¯¹å‡½æ•°å®ä¾‹çš„ toString()æ–¹æ³•åšå‡ºäº†ä¿®è®¢ã€‚ toString() æ–¹æ³•è¿”å›å½“å‰å‡½æ•°æºä»£ç çš„å­—ç¬¦ä¸²ï¼Œä»¥å‰ä¼šçœç•¥æ³¨é‡Šå’Œç©ºæ ¼ã€‚ function /* foo comment */ foo() {} foo.toString() // function foo() {} ä¿®æ”¹åçš„ toString()æ–¹æ³•ï¼Œè¿”å›ä¸€æ¨¡ä¸€æ ·çš„åŸå§‹ä»£ç ã€‚ function /* foo comment */ foo() {} foo.toString() // \"function /* foo comment */ foo () {}\" Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/object-from-entries.html":{"url":"es2019/object-from-entries.html","title":"Object.fromEntries","keywords":"","body":"Object.fromEntries() ç®€ä»‹ Object.fromEntries()æ–¹æ³•æŠŠé”®å€¼å¯¹åˆ—è¡¨è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯ Object.entries()çš„é€†æ“ä½œã€‚ Object.fromEntries([ ['foo', 'bar'], ['baz', 42], ]) // { foo: \"bar\", baz: 42 } è¯­æ³• Object.fromEntries(iterable); iterableç±»ä¼¼ Arrayã€Map æˆ–è€…å…¶å®ƒå®ç°äº†å¯è¿­ä»£åè®®çš„å¯è¿­ä»£å¯¹è±¡ã€‚ ç¤ºä¾‹ Map è½¬åŒ–ä¸º Object const map = new Map([ ['foo', 'bar'], ['baz', 42], ]) const obj = Object.fromEntries(map) console.log(obj) // { foo: \"bar\", baz: 42 } Array è½¬åŒ–ä¸º Object const arr = [ ['0', 'a'], ['1', 'b'], ['2', 'c'], ] const obj = Object.fromEntries(arr) console.log(obj) // { 0: \"a\", 1: \"b\", 2: \"c\" } å¯¹è±¡è½¬æ¢ Object.fromEntries æ˜¯ä¸ Object.entries()ç›¸åçš„æ–¹æ³•ï¼Œç”¨æ•°ç»„å¤„ç†å‡½æ•°å¯ä»¥åƒä¸‹é¢è¿™æ ·è½¬æ¢å¯¹è±¡ï¼š const object1 = { a: 1, b: 2, c: 3 } const object2 = Object.fromEntries(Object.entries(object1).map(([key, val]) => [key, val * 2])) console.log(object2) // { a: 2, b: 4, c: 6 } é…åˆ URLSearchParams å¯¹è±¡ï¼Œå°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡ Object.fromEntries(new URLSearchParams('foo=bar&baz=qux')) // { foo: \"bar\", baz: \"qux\" } Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/well-formed-stringify.html":{"url":"es2019/well-formed-stringify.html","title":"Well-formed JSON.stringify","keywords":"","body":"æ›´å‹å¥½çš„ JSON.stringify æ›´å‹å¥½çš„ JSON.stringifyï¼Œå¯¹äºä¸€äº›è¶…å‡ºèŒƒå›´çš„ Unicode å­—ç¬¦ä¸²ï¼Œä¸ºå…¶è¾“å‡ºè½¬ä¹‰åºåˆ—ï¼Œä½¿å…¶æˆä¸ºæœ‰æ•ˆ Unicodeã€‚ // Before console.log(JSON.stringify('\\uD800')) // \"ï¿½\" // ES2019 console.log(JSON.stringify('\\uD800')) // \"\\ud800\" Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/string-left-right-trim.html":{"url":"es2019/string-left-right-trim.html","title":"String.prototype.{trimStart,trimEnd}","keywords":"","body":"String.prototype.trimStart / String.prototype.trimEnd ES2019 å¯¹å­—ç¬¦ä¸²å®ä¾‹æ–°å¢äº† trimStart()å’Œ trimEnd()è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚å®ƒä»¬çš„è¡Œä¸ºä¸ trim()ä¸€è‡´ï¼ŒtrimStart()æ¶ˆé™¤å­—ç¬¦ä¸²å¤´éƒ¨çš„ç©ºæ ¼ï¼ŒtrimEnd()æ¶ˆé™¤å°¾éƒ¨çš„ç©ºæ ¼ã€‚å®ƒä»¬è¿”å›çš„éƒ½æ˜¯æ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚ const s = ' abc ' s.trim() // \"abc\" s.trimStart() // \"abc \" s.trimEnd() // \" abc\" ä¸Šé¢ä»£ç ä¸­ï¼ŒtrimStart()åªæ¶ˆé™¤å¤´éƒ¨çš„ç©ºæ ¼ï¼Œä¿ç•™å°¾éƒ¨çš„ç©ºæ ¼ã€‚trimEnd()ä¹Ÿæ˜¯ç±»ä¼¼è¡Œä¸ºã€‚ é™¤äº†ç©ºæ ¼é”®ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¯¹å­—ç¬¦ä¸²å¤´éƒ¨ï¼ˆæˆ–å°¾éƒ¨ï¼‰çš„ tab é”®ã€æ¢è¡Œç¬¦ç­‰ä¸å¯è§çš„ç©ºç™½ç¬¦å·ä¹Ÿæœ‰æ•ˆã€‚ ä¸ºäº†ä¸ String.prototype.padStart ç­‰å‡½æ•°ä¿æŒä¸€è‡´ï¼Œæ ‡å‡†æ–¹æ³•åç§°ä¸ºtrimStartã€‚ ä½†æ˜¯ï¼Œå‡ºäº Web å…¼å®¹æ€§åŸå› ï¼Œæµè§ˆå™¨è¿˜éƒ¨ç½²äº†é¢å¤–çš„ä¸¤ä¸ªæ–¹æ³•ï¼ŒtrimLeft()æ˜¯ trimStart()çš„åˆ«åï¼ŒtrimRight()æ˜¯ trimEnd()çš„åˆ«åã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2019/array-prototype-flatMap.html":{"url":"es2019/array-prototype-flatMap.html","title":"Array.prototype.{flat,flatMap}","keywords":"","body":"Array.prototype.flat / Array.prototype.flatMap flat()æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚ flat()é»˜è®¤åªä¼šâ€œæ‹‰å¹³â€ä¸€å±‚ï¼Œå¦‚æœæƒ³è¦â€œæ‹‰å¹³â€å¤šå±‚çš„åµŒå¥—æ•°ç»„ï¼Œå¯ä»¥å°† flat()æ–¹æ³•çš„å‚æ•°å†™æˆä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæƒ³è¦æ‹‰å¹³çš„å±‚æ•°ï¼Œé»˜è®¤ä¸º 1ã€‚ [1, 2, [3, [4, 5]]].flat() // [1, 2, 3, [4, 5]] [1, 2, [3, [4, 5]]].flat(2) // [1, 2, 3, 4, 5] å¦‚æœä¸ç®¡æœ‰å¤šå°‘å±‚åµŒå¥—ï¼Œéƒ½è¦è½¬æˆä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥ç”¨ Infinity å…³é”®å­—ä½œä¸ºå‚æ•°ã€‚ [1, [2, [3]]].flat(Infinity) // [1, 2, 3] å¦‚æœåŸæ•°ç»„æœ‰ç©ºä½ï¼Œflat()æ–¹æ³•ä¼šè·³è¿‡ç©ºä½ã€‚ [1, 2, , 4, 5].flat() // [1, 2, 4, 5] flatMap()æ–¹æ³•å¯¹åŸæ•°ç»„çš„æ¯ä¸ªæˆå‘˜æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼ˆç›¸å½“äºæ‰§è¡Œ Array.prototype.map()ï¼‰ï¼Œç„¶åå¯¹è¿”å›å€¼ç»„æˆçš„æ•°ç»„æ‰§è¡Œ flat()æ–¹æ³•ï¼Œå³ depth å€¼ä¸º 1ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„ã€‚ let new_array = arr.flatMap(function callback(currentValue[, index[, array]]) { // return element for new_array }[, thisArg]) currentValueå½“å‰æ­£åœ¨æ•°ç»„ä¸­å¤„ç†çš„å…ƒç´  index å¯é€‰å¯é€‰çš„ã€‚æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚ array å¯é€‰å¯é€‰çš„ã€‚è¢«è°ƒç”¨çš„ map æ•°ç»„ thisArg å¯é€‰å¯é€‰çš„ã€‚æ‰§è¡Œ callback å‡½æ•°æ—¶ ä½¿ç”¨çš„ this å€¼ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/es2018.html":{"url":"es2018/es2018.html","title":"ECMAScript 2018 (ES9)","keywords":"","body":"ECMAScript 2018 (ES9) ç›®å½• Template Literal Revision s/dotAll flag for regular expressions RegExp Named Capture Groups Object Rest/Spread Properties RegExp Lookbehind Assertions Unicode property escapes in regular expressions Promise.prototype.finally Async Iteration Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/template-literal-revision.html":{"url":"es2018/template-literal-revision.html","title":"Template Literal Revision","keywords":"","body":"éè½¬ä¹‰åºåˆ—çš„æ¨¡æ¿å­—ç¬¦ä¸²çš„ä¿®è®¢ å¸¦æ ‡ç­¾çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²åº”è¯¥å…è®¸åµŒå¥—å…¶ä»–è¯­è¨€ï¼ˆä¾‹å¦‚ DSLsã€LaTeXï¼‰ã€‚ä½†æ˜¯ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²é»˜è®¤ä¼šå°†å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œå¯¼è‡´æ— æ³•åµŒå…¥å…¶ä»–è¯­è¨€ã€‚ function latex(strings) { // ... } let document = latex` \\newcommand{\\fun}{\\textbf{Fun!}} // æ­£å¸¸å·¥ä½œ \\newcommand{\\unicode}{\\textbf{Unicode!}} // æŠ¥é”™ \\newcommand{\\xerxes}{\\textbf{King!}} // æŠ¥é”™ Breve over the h goes \\u{h}ere // æŠ¥é”™ ` ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡ document å†…åµŒçš„æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå¯¹äº LaTEX è¯­è¨€æ¥è¯´å®Œå…¨æ˜¯åˆæ³•çš„ï¼Œä½†æ˜¯ JavaScript å¼•æ“ä¼šæŠ¥é”™ã€‚åŸå› å°±åœ¨äºå­—ç¬¦ä¸²çš„è½¬ä¹‰ã€‚ æ¨¡æ¿å­—ç¬¦ä¸²ä¼šå°†\\u00FF å’Œ\\u{42}å½“ä½œ Unicode å­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼Œæ‰€ä»¥\\unicode è§£ææ—¶æŠ¥é”™ï¼›è€Œ\\x56 ä¼šè¢«å½“ä½œåå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œæ‰€ä»¥\\xerxes ä¼šæŠ¥é”™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ\\u å’Œ\\x åœ¨ LaTEX é‡Œé¢æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä½†æ˜¯ JavaScript å°†å®ƒä»¬è½¬ä¹‰äº†ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES2018 æ”¾æ¾äº†å¯¹æ ‡ç­¾æ¨¡æ¿é‡Œé¢çš„å­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶ã€‚å¦‚æœé‡åˆ°ä¸åˆæ³•çš„å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œå°±è¿”å› undefinedï¼Œè€Œä¸æ˜¯æŠ¥é”™ï¼Œå¹¶ä¸”ä» raw å±æ€§ä¸Šé¢å¯ä»¥å¾—åˆ°åŸå§‹å­—ç¬¦ä¸²ã€‚ function tag(strs) { strs[0] === undefined strs.raw[0] === '\\\\unicode and \\\\u{55}' } tag`\\unicode and \\u{55}` ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²åŸæœ¬æ˜¯åº”è¯¥æŠ¥é”™çš„ï¼Œä½†æ˜¯ç”±äºæ”¾æ¾äº†å¯¹å­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶ï¼Œæ‰€ä»¥ä¸æŠ¥é”™äº†ï¼ŒJavaScript å¼•æ“å°†ç¬¬ä¸€ä¸ªå­—ç¬¦è®¾ç½®ä¸º undefinedï¼Œä½†æ˜¯ raw å±æ€§ä¾ç„¶å¯ä»¥å¾—åˆ°åŸå§‹å­—ç¬¦ä¸²ï¼Œå› æ­¤ tag å‡½æ•°è¿˜æ˜¯å¯ä»¥å¯¹åŸå­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ã€‚ æ³¨æ„ï¼Œè¿™ç§å¯¹å­—ç¬¦ä¸²è½¬ä¹‰çš„æ”¾æ¾ï¼Œåªåœ¨æ ‡ç­¾æ¨¡æ¿è§£æå­—ç¬¦ä¸²æ—¶ç”Ÿæ•ˆï¼Œä¸æ˜¯æ ‡ç­¾æ¨¡æ¿çš„åœºåˆï¼Œä¾ç„¶ä¼šæŠ¥é”™ã€‚ let bad = `bad escape sequence: \\unicode` // æŠ¥é”™ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/regexp-dotall-flag.html":{"url":"es2018/regexp-dotall-flag.html","title":"s/dotAll flag for regular expressions","keywords":"","body":"æ­£åˆ™è¡¨è¾¾å¼ dotAll æ¨¡å¼ æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç‚¹ï¼ˆ.ï¼‰æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œä»£è¡¨ä»»æ„çš„å•ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–ã€‚ä¸€ä¸ªæ˜¯å››ä¸ªå­—èŠ‚çš„ UTF-16 å­—ç¬¦ï¼Œè¿™ä¸ªå¯ä»¥ç”¨ u ä¿®é¥°ç¬¦è§£å†³ï¼›å¦ä¸€ä¸ªæ˜¯è¡Œç»ˆæ­¢ç¬¦ï¼ˆline terminator characterï¼‰ã€‚ æ‰€è°“è¡Œç»ˆæ­¢ç¬¦ï¼Œå°±æ˜¯è¯¥å­—ç¬¦è¡¨ç¤ºä¸€è¡Œçš„ç»ˆç»“ã€‚ä»¥ä¸‹å››ä¸ªå­—ç¬¦å±äºâ€œè¡Œç»ˆæ­¢ç¬¦â€ã€‚ U+000A æ¢è¡Œç¬¦ï¼ˆ\\nï¼‰ U+000D å›è½¦ç¬¦ï¼ˆ\\rï¼‰ U+2028 è¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰ U+2029 æ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰ ;/foo.bar/.test('foo\\nbar') // false ä¸Šé¢ä»£ç ä¸­ï¼Œå› ä¸º.ä¸åŒ¹é…\\nï¼Œæ‰€ä»¥æ­£åˆ™è¡¨è¾¾å¼è¿”å› falseã€‚ S2018 å¼•å…¥ s ä¿®é¥°ç¬¦ï¼Œä½¿å¾—.å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚ ;/foo.bar/s.test('foo\\nbar') // true è¿™è¢«ç§°ä¸º dotAll æ¨¡å¼ï¼Œå³ç‚¹ï¼ˆdotï¼‰ä»£è¡¨ä¸€åˆ‡å­—ç¬¦ã€‚ dotAll æ˜¯ä¸€ä¸ªåªè¯»çš„å±æ€§ï¼Œå±äºå•ä¸ªæ­£åˆ™è¡¨è¾¾å¼å®ä¾‹ã€‚å¦‚æœä½¿ç”¨äº† s ä¿®é¥°ç¬¦ï¼ŒdotAll çš„å€¼å°†è¿”å› Boolean ç±»å‹çš„ trueï¼Œå¦åˆ™å°†è¿”å› falseã€‚ const re = /foo.bar/s // å¦ä¸€ç§å†™æ³• // const re = new RegExp('foo.bar', 's'); re.test('foo\\nbar') // true re.dotAll // true re.flags // 's' /s ä¿®é¥°ç¬¦å’Œå¤šè¡Œä¿®é¥°ç¬¦/m ä¸å†²çªï¼Œä¸¤è€…ä¸€èµ·ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œ.åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼Œè€Œ^å’Œ$åŒ¹é…æ¯ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/regexp-named-groups.html":{"url":"es2018/regexp-named-groups.html","title":"RegExp Named Capture Groups","keywords":"","body":"æ­£åˆ™è¡¨è¾¾å¼å…·åæ•è·ç»„ æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨()è¿›è¡Œç»„åŒ¹é…ã€‚ const RE_DATE = /(\\d{4})-(\\d{2})-(\\d{2})/ const matchObj = RE_DATE.exec('1999-12-31') const year = matchObj[1] // 1999 const month = matchObj[2] // 12 const day = matchObj[3] // 31 ç»„åŒ¹é…çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¯ä¸€ç»„çš„åŒ¹é…å«ä¹‰ä¸å®¹æ˜“çœ‹å‡ºæ¥ï¼Œè€Œä¸”åªèƒ½ç”¨ç´¢å¼•å–å€¼ï¼Œå¦‚æœç»„çš„é¡ºåºå˜äº†ï¼Œå¼•ç”¨ä¹Ÿéœ€è¦ä¿®æ”¹ã€‚ ES2018 å¼•å…¥äº†å…·åæ•è·ç»„ï¼ˆNamed Capture Groupsï¼‰ï¼Œå…è®¸ä¸ºæ¯ä¸€ä¸ªç»„åŒ¹é…æŒ‡å®šä¸€ä¸ªåå­—ã€‚ä½¿ç”¨æ–¹å¼ä¸º (?x)ï¼Œå°–æ‹¬å·( å’Œ >) ç”¨äºç»„åï¼Œ ä¸ºæŒ‡å®šçš„å±æ€§åï¼Œâ€œxâ€æ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ let users = `å§“æ°: æ, åå­—: é›· å§“æ°: éŸ©, åå­—: æ¢…æ¢…` let regexpNames = /å§“æ°: (?.+), åå­—: (?.+)/gm let match = regexpNames.exec(users) do { console.log(`Hello ${match.groups.first} ${match.groups.last}`) } while ((match = regexpNames.exec(users)) !== null) // Hello æ é›· // Hello éŸ© æ¢…æ¢… å¦‚æœå…·åç»„æ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆå¯¹åº”çš„ groups å¯¹è±¡å±æ€§ä¼šæ˜¯ undefinedã€‚ const RE_OPT_A = /^(?a+)?$/ const matchObj = RE_OPT_A.exec('') matchObj.groups.as // undefined matchObj.groups // {as: undefined} 'as' in matchObj.groups // true Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/object-rest-spread.html":{"url":"es2018/object-rest-spread.html","title":"Object Rest/Spread Properties","keywords":"","body":"å¯¹è±¡çš„ç»“æ„èµ‹å€¼å’Œæ‹“å±•è¿ç®—ç¬¦ ES2015 å¼•å…¥äº† Rest å‚æ•°å’Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ã€‚ä½†æ˜¯ ES2015 ä¸­çš„ä½œç”¨å¯¹è±¡ä»…é™äºæ•°ç»„ã€‚ restParam(1, 2, 3, 4, 5) function restParam(p1, p2, ...p3) { // p1 = 1 // p2 = 2 // p3 = [3, 4, 5] } const values = [99, 100, -1, 48, 16] console.log(Math.max(...values)) // 100 ES2018 ä¸ºå¯¹è±¡è§£æ„æä¾›äº†å’Œæ•°ç»„ä¸€æ ·çš„ Rest å‚æ•°å’Œå±•å¼€æ“ä½œç¬¦ã€‚ const myObject = { a: 1, b: 2, c: 3, } const { a, ...x } = myObject // a = 1 // x = { b: 2, c: 3 } function foo({ a, ...param }) { console.log(a) // 1 console.log(param) // {b: 2, c: 3} } ç”±äºè§£æ„èµ‹å€¼è¦æ±‚ç­‰å·å³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æœç­‰å·å³è¾¹æ˜¯ undefined æˆ– nullï¼Œå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒä»¬æ— æ³•è½¬ä¸ºå¯¹è±¡ã€‚ let { ...z } = null // è¿è¡Œæ—¶é”™è¯¯ let { ...z } = undefined // è¿è¡Œæ—¶é”™è¯¯ è§£æ„èµ‹å€¼å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ let { ...x, y, z } = someObject; // å¥æ³•é”™è¯¯ let { x, ...y, ...z } = someObject; // å¥æ³•é”™è¯¯ è§£æ„èµ‹å€¼çš„æ‹·è´æ˜¯æµ…æ‹·è´ï¼Œå³å¦‚æœä¸€ä¸ªé”®çš„å€¼æ˜¯å¤åˆç±»å‹çš„å€¼ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ï¼‰ã€é‚£ä¹ˆè§£æ„èµ‹å€¼æ‹·è´çš„æ˜¯è¿™ä¸ªå€¼çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯è¿™ä¸ªå€¼çš„å‰¯æœ¬ã€‚ let obj = { a: { b: 1 } } let { ...x } = obj obj.a.b = 2 x.a.b // 2 ä¸Šé¢ä»£ç ä¸­ï¼Œx æ˜¯è§£æ„èµ‹å€¼æ‰€åœ¨çš„å¯¹è±¡ï¼Œæ‹·è´äº†å¯¹è±¡ obj çš„ a å±æ€§ã€‚a å±æ€§å¼•ç”¨äº†ä¸€ä¸ªå¯¹è±¡ï¼Œä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„å€¼ï¼Œä¼šå½±å“åˆ°è§£æ„èµ‹å€¼å¯¹å®ƒçš„å¼•ç”¨ã€‚ ç”±äºæ•°ç»„æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œæ‰€ä»¥å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ä¹Ÿå¯ä»¥ç”¨äºæ•°ç»„ã€‚ let foo = { ...['a', 'b', 'c'] } foo // {0: \"a\", 1: \"b\", 2: \"c\"} å¦‚æœæ‰©å±•è¿ç®—ç¬¦åé¢ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™ä¼šè‡ªåŠ¨å°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚ // ç­‰åŒäº {...Object(1)} {...1} // {} // ç­‰åŒäº {...Object(true)} {...true} // {} // ç­‰åŒäº {...Object(undefined)} {...undefined} // {} // ç­‰åŒäº {...Object(null)} {...null} // {} å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ç­‰åŒäºä½¿ç”¨ Object.assign()æ–¹æ³•ã€‚ let aClone = { ...a } // ç­‰åŒäº let aClone = Object.assign({}, a) ä¸æ•°ç»„çš„æ‰©å±•è¿ç®—ç¬¦ä¸€æ ·ï¼Œå¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦åé¢å¯ä»¥è·Ÿè¡¨è¾¾å¼ã€‚ const obj = { ...(x > 1 ? { a: 1 } : {}), b: 2, } æ‰©å±•è¿ç®—ç¬¦çš„å‚æ•°å¯¹è±¡ä¹‹ä¸­ï¼Œå¦‚æœæœ‰å–å€¼å‡½æ•° getï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ä¼šæ‰§è¡Œçš„ã€‚ let a = { get x() { throw new Error('not throw yet') }, } let aWithXGetter = { ...a } // æŠ¥é”™ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/regexp-lookbehind.html":{"url":"es2018/regexp-lookbehind.html","title":"RegExp Lookbehind Assertions","keywords":"","body":"æ­£åˆ™è¡¨è¾¾å¼çš„åè¡Œæ–­è¨€ JavaScript è¯­è¨€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œåªæ”¯æŒå…ˆè¡Œæ–­è¨€ï¼ˆlookaheadï¼‰å’Œå…ˆè¡Œå¦å®šæ–­è¨€ï¼ˆnegative lookaheadï¼‰ï¼Œä¸æ”¯æŒåè¡Œæ–­è¨€ï¼ˆlookbehindï¼‰å’Œåè¡Œå¦å®šæ–­è¨€ï¼ˆnegative lookbehindï¼‰ã€‚ES2018 å¼•å…¥åè¡Œæ–­è¨€ã€‚ â€œå…ˆè¡Œæ–­è¨€â€æŒ‡çš„æ˜¯ï¼Œx åªæœ‰åœ¨ y å‰é¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/x(?=y)/ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—ï¼Œè¦å†™æˆ/\\d+(?=%)/ã€‚ â€œå…ˆè¡Œå¦å®šæ–­è¨€â€æŒ‡çš„æ˜¯ï¼Œx åªæœ‰ä¸åœ¨ y å‰é¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/x(?!y)/ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ä¸åœ¨ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—ï¼Œè¦å†™æˆ/\\d+(?!%)/ã€‚ /\\d+(?=%)/.exec('100% of US presidents have been male') // [\"100\"] /\\d+(?!%)/.exec('thatâ€™s all 44 of them') // [\"44\"] â€œåè¡Œæ–­è¨€â€æ­£å¥½ä¸â€œå…ˆè¡Œæ–­è¨€â€ç›¸åï¼Œx åªæœ‰åœ¨ y åé¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/(?ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ç¾å…ƒç¬¦å·ä¹‹åçš„æ•°å­—ï¼Œè¦å†™æˆ/(?ã€‚ â€œåè¡Œå¦å®šæ–­è¨€â€åˆ™ä¸â€œå…ˆè¡Œå¦å®šæ–­è¨€â€ç›¸åï¼Œx åªæœ‰ä¸åœ¨ y åé¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/(?ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ä¸åœ¨ç¾å…ƒç¬¦å·åé¢çš„æ•°å­—ï¼Œè¦å†™æˆ/(?ã€‚ /(? â€œåè¡Œæ–­è¨€â€çš„å®ç°ï¼Œéœ€è¦å…ˆåŒ¹é…/(?çš„ xï¼Œç„¶åå†å›åˆ°å·¦è¾¹ï¼ŒåŒ¹é… y çš„éƒ¨åˆ†ã€‚è¿™ç§â€œå…ˆå³åå·¦â€çš„æ‰§è¡Œé¡ºåºï¼Œä¸æ‰€æœ‰å…¶ä»–æ­£åˆ™æ“ä½œç›¸åï¼Œå¯¼è‡´äº†ä¸€äº›ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºã€‚ é¦–å…ˆï¼Œåè¡Œæ–­è¨€çš„ç»„åŒ¹é…ï¼Œä¸æ­£å¸¸æƒ…å†µä¸‹ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚ /(? ä¸Šé¢ä»£ç ä¸­ï¼Œéœ€è¦æ•æ‰ä¸¤ä¸ªç»„åŒ¹é…ã€‚æ²¡æœ‰â€œåè¡Œæ–­è¨€â€æ—¶ï¼Œç¬¬ä¸€ä¸ªæ‹¬å·æ˜¯è´ªå©ªæ¨¡å¼ï¼Œç¬¬äºŒä¸ªæ‹¬å·åªèƒ½æ•è·ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœæ˜¯ 105 å’Œ 3ã€‚è€Œâ€œåè¡Œæ–­è¨€â€æ—¶ï¼Œç”±äºæ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦ï¼Œç¬¬äºŒä¸ªæ‹¬å·æ˜¯è´ªå©ªæ¨¡å¼ï¼Œç¬¬ä¸€ä¸ªæ‹¬å·åªèƒ½æ•è·ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœæ˜¯ 1 å’Œ 053ã€‚ å…¶æ¬¡ï¼Œâ€œåè¡Œæ–­è¨€â€çš„åæ–œæ å¼•ç”¨ï¼Œä¹Ÿä¸é€šå¸¸çš„é¡ºåºç›¸åï¼Œå¿…é¡»æ”¾åœ¨å¯¹åº”çš„é‚£ä¸ªæ‹¬å·ä¹‹å‰ã€‚ /(? ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœåè¡Œæ–­è¨€çš„åæ–œæ å¼•ç”¨ï¼ˆ\\1ï¼‰æ”¾åœ¨æ‹¬å·çš„åé¢ï¼Œå°±ä¸ä¼šå¾—åˆ°åŒ¹é…ç»“æœï¼Œå¿…é¡»æ”¾åœ¨å‰é¢æ‰å¯ä»¥ã€‚å› ä¸ºåè¡Œæ–­è¨€æ˜¯å…ˆä»å·¦åˆ°å³æ‰«æï¼Œå‘ç°åŒ¹é…ä»¥åå†å›è¿‡å¤´ï¼Œä»å³åˆ°å·¦å®Œæˆåæ–œæ å¼•ç”¨ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/regexp-unicode-property-escapes.html":{"url":"es2018/regexp-unicode-property-escapes.html","title":"Unicode property escapes in regular expressions","keywords":"","body":"æ­£åˆ™è¡¨è¾¾å¼ Unicode è½¬ä¹‰ åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ \\d åŒ¹é…ä»»ä½•æ•°å­—ï¼Œ\\s åŒ¹é…ä»»ä½•ä¸ä¸ºç©ºæ ¼çš„å­—ç¬¦ã€‚ åœ¨ ES2018 æ·»åŠ äº† Unicode å±æ€§è½¬ä¹‰ï¼Œç”¨ \\p{} åŒ¹é…æ‰€æœ‰ Unicode å­—ç¬¦ï¼Œå¦å®šä¸º \\P{}ã€‚ /^\\p{ASCII_Hex_Digit}+$/u.test('0123456789ABCDEF') // true /^\\p{ASCII_Hex_Digit}+$/u.test('h') // false ä¸Šé¢ä»£ç ä¸­ï¼ŒASCII_Hex_Digit æ˜¯ä¸€ä¸ªå¸ƒå°”å±æ€§ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»…åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ•°å­—ã€‚ è¿˜æœ‰è®¸å¤šå…¶ä»–å¸ƒå°”å±æ€§ï¼ŒåŒ…æ‹¬ Uppercase, Lowercase, White_Space, Alphabetic, Emoji ç­‰ã€‚ /^\\p{Lowercase}$/u.test('h') // true /^\\p{Uppercase}$/u.test('H') // true /^\\p{Emoji}+$/u.test('H') // false /^\\p{Emoji}+$/u.test('ğŸ™ƒğŸ™ƒ') // true é™¤äº†è¿™äº›äºŒè¿›åˆ¶å±æ€§ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ£€æŸ¥ä»»ä½• Unicode å­—ç¬¦å±æ€§ä»¥åŒ¹é…ç‰¹å®šå€¼ã€‚ /^\\p{Script=Greek}+$/u.test('ÎµÎ»Î»Î·Î½Î¹Îº?') // true /^\\p{Script=Latin}+$/u.test('hey') // true åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯ç”¨å¸Œè…Šè¯­è¿˜æ˜¯æ‹‰ä¸å­—æ¯å†™çš„ã€‚ æ›´å¤šå±æ€§æ”¯æŒåœ¨è¿™é‡ŒæŸ¥çœ‹ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/promise-finally.html":{"url":"es2018/promise-finally.html","title":"Promise.prototype.finally","keywords":"","body":"Promise.prototype.finally finally() æ–¹æ³•è¿”å›ä¸€ä¸ª Promiseã€‚åœ¨ promise ç»“æŸæ—¶ï¼Œæ— è®ºç»“æœæ˜¯ fulfilled æˆ–è€…æ˜¯ rejectedï¼Œéƒ½ä¼šæ‰§è¡ŒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ºåœ¨ Promise æ˜¯å¦æˆåŠŸå®Œæˆåéƒ½éœ€è¦æ‰§è¡Œçš„ä»£ç æä¾›äº†ä¸€ç§æ–¹å¼ã€‚ promise .then(result => {Â·Â·Â·}) .catch(error => {Â·Â·Â·}) .finally(() => {Â·Â·Â·}); æ¯”å¦‚ï¼ŒæœåŠ¡å™¨ä½¿ç”¨ Promise å¤„ç†è¯·æ±‚ï¼Œç„¶åä½¿ç”¨ finally æ–¹æ³•å…³æ‰æœåŠ¡å™¨ã€‚ server .listen(port) .then(function () { // ... }) .finally(server.stop) è¿˜æœ‰å‰ç«¯ loading çš„åœºæ™¯æ§åˆ¶ã€‚ let isLoading = true fetch(myRequest) .then(function (response) { var contentType = response.headers.get('content-type') if (contentType && contentType.includes('application/json')) { return response.json() } throw new TypeError(\"Oops, we haven't got JSON!\") }) .then(function (json) { /* process your JSON further */ }) .catch(function (error) { console.log(error) }) .finally(function () { isLoading = false }) Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2018/async-iteration.html":{"url":"es2018/async-iteration.html","title":"Async Iteration","keywords":"","body":"å¼‚æ­¥è¿­ä»£å™¨ for await...of åœ¨ async/await çš„æŸäº›æ—¶åˆ»ï¼Œä½ å¯èƒ½å°è¯•åœ¨åŒæ­¥å¾ªç¯ä¸­è°ƒç”¨å¼‚æ­¥å‡½æ•°ã€‚ä¾‹å¦‚ï¼š async function process(array) { for (let i of array) { await doSomething(i) } } ES2018 å¼•å…¥å¼‚æ­¥è¿­ä»£å™¨ï¼ˆasynchronous iteratorsï¼‰ï¼Œawait å¯ä»¥å’Œ for...of å¾ªç¯ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¸²è¡Œçš„æ–¹å¼è¿è¡Œå¼‚æ­¥æ“ä½œã€‚ async function process(array) { for await (let i of array) { doSomething(i) } } for await...of å¾ªç¯ä¹Ÿå¯ä»¥ç”¨äºåŒæ­¥éå†å™¨ã€‚ ;(async function () { for await (const x of ['a', 'b']) { console.log(x) } })() // a // b Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2017/es2017.html":{"url":"es2017/es2017.html","title":"ECMAScript 2017 (ES8)","keywords":"","body":"ECMAScript 2017 (ES8) ç›®å½• Async / Await Shared Memory and Atomics Object.values / Object.entries String padding Trailing comma Object.getOwnPropertyDescriptors Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2017/async-await.html":{"url":"es2017/async-await.html","title":"Async / Await","keywords":"","body":"Async / Await ç®€ä»‹ åœ¨ ES2015 ä¸­å¼•å…¥äº† Promise æ¥è§£å†³â€œå›è°ƒåœ°åŸŸâ€çš„é—®é¢˜ã€‚æ—¶éš”ä¸¤å¹´ï¼ŒES2017 Async Functions çš„å‡ºç°ï¼Œè¯æ˜ Promise ä¸æ˜¯æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆã€‚ ES2017 æ ‡å‡†å¼•å…¥äº† Async Functions çš„æ¦‚å¿µï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚Async Functions æ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ï¼Œç›´è§‚ä¸Šçœ‹ï¼Œasync å‡½æ•°å°±æ˜¯å°† Generator å‡½æ•°çš„æ˜Ÿå·ï¼ˆ*ï¼‰æ›¿æ¢æˆ asyncï¼Œå°† yield æ›¿æ¢æˆ awaitï¼Œä»…æ­¤è€Œå·²ã€‚ async å’Œ awaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œ yieldï¼Œè¯­ä¹‰æ›´åŠ æ¸…æ™°ï¼Œæ›´ç¬¦åˆè¯­ä¹‰ã€‚å¹¶ä¸” async å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œä¸éœ€è¦åƒ Generator å‡½æ•°ä¸€æ ·ï¼Œéœ€è¦è°ƒç”¨ next æ–¹æ³•ï¼Œæˆ–è€…ç”¨ co æ¨¡å—ã€‚async å‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œå…¶å†…éƒ¨å¯ä»¥çœ‹åšæ˜¯å¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œ await å‘½ä»¤æ˜¯å†…éƒ¨ then å‘½ä»¤çš„è¯­æ³•ç³–ã€‚ è¯­æ³• è¿”å› Promise å¯¹è±¡ async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœä»£ç ä¸­è¿”å›çš„æ˜¯é Promise å¯¹è±¡ï¼ŒJavaScript ä¼šè‡ªåŠ¨å°†å…¶åŒ…è£…æˆ Promise.resolved() çš„å€¼ã€‚ async function test() { return 'hello world' } test().then((v) => console.log(v)) // \"hello world\" ä¹Ÿå¯ä»¥æ˜¾ç¤ºçš„è¿”å›ä¸€ä¸ª Promiseï¼Œç»“æœä¸ä¸Šé¢ä¾‹å­ç›¸åŒã€‚ async function test() { return Promise.resolve('hello world') } test().then((v) => console.log(v)) // \"hello world\" å¦‚æœ async å‡½æ•°å†…éƒ¨æŠ›å‡ºé”™è¯¯ï¼Œä¼šå¯¼è‡´è¿”å›çš„ Promise å¯¹è±¡å˜ä¸º reject çŠ¶æ€ã€‚æŠ›å‡ºçš„é”™è¯¯ä¼šè¢« catch æ–¹æ³•æ•è·åˆ°ã€‚ async function test() { throw new Error('å‡ºé”™äº†') } test().then( (v) => console.log('resolve', v), (e) => console.log('reject', e), ) //reject Error: å‡ºé”™äº† await å‘½ä»¤ await å‘½ä»¤åªèƒ½åœ¨ async å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ await å‘½ä»¤åé¢æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚å¦‚æœä¸æ˜¯ï¼Œå°±ç›´æ¥è¿”å›å¯¹åº”çš„å€¼ã€‚ async function test() { return await 'hello world' // ç­‰åŒäº // return 'hello world' } test().then((v) => console.log(v)) // \"hello world\" å¦ä¸€ç§æƒ…å†µæ˜¯ï¼Œ await æ¥æ”¶ä¸€ä¸ª thenable å¯¹è±¡ï¼ˆå…·æœ‰å¯è°ƒç”¨ then æ–¹æ³•çš„å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆ await ä¼šå°†å…¶ç­‰åŒäº Promise å¯¹è±¡ã€‚ class Thenable { constructor(num) { this.num = num } then(resolve, reject) { setTimeout(() => resolve(this.num * 2), 1000) } } ;(async () => { const result = await new Thenable(2) console.log(result) })() // 4 ä¸Šé¢ä¾‹å­ä¸­ï¼Œ await å¾—åˆ°äº†ä¸€ä¸ªå¸¦æœ‰ then æ–¹æ³•çš„é Promise å¯¹è±¡ï¼Œå®ƒä¼šè°ƒç”¨æä¾›åŸç”Ÿå‡½æ•°çš„ resolveã€reject ä½œä¸ºå‚æ•°çš„æ–¹æ³•ã€‚ é”™è¯¯å¤„ç† å¦‚æœä¸€ä¸ª Promise æ­£å¸¸ resolveï¼Œé‚£ä¹ˆ await ä¼šè¿”å›è¿™ä¸ªç»“æœï¼Œä½†æ˜¯åœ¨ reject çš„æƒ…å†µä¸‹ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ async function test() { await Promise.reject(new Error('å‡ºé”™äº†ï¼')) } test() .then((v) => console.log(v)) .catch((e) => console.log(e)) // Errorï¼šå‡ºé”™äº† æ³¨æ„ï¼Œå’Œä¸‹é¢å†™æ³•æ•ˆæœä¸€æ ·ã€‚ async function test() { throw new Error('å‡ºé”™äº†ï¼') } ä»»ä½•ä¸€ä¸ª await è¯­å¥åé¢çš„ Promise å¯¹è±¡å˜ä¸º reject çŠ¶æ€ï¼Œé‚£ä¹ˆæ•´ä¸ª async å‡½æ•°éƒ½ä¼šä¸­æ–­æ‰§è¡Œã€‚ async function test() { await Promise.reject(new Error('å‡ºé”™äº†')) await Promise.resolve('hello world') // ä¸ä¼šæ‰§è¡Œ } æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å³ä½¿ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¤±è´¥ï¼Œä¹Ÿä¸ä¼šä¸­æ–­åé¢çš„å¼‚æ­¥æ“ä½œã€‚å¯ä»¥å°†å‰é¢çš„ await æ”¾åœ¨ try...catch è¯­å¥ä¸­ã€‚ async function test() { try { await Promise.reject(new Error('å‡ºé”™äº†')) } catch (e) { console.error(e) // Error: å‡ºé”™äº† } return await Promise.resolve('hello world') } test().then((v) => console.log(v)) // hello world å¦‚æœå‘ç”Ÿäº†é”™è¯¯ï¼Œä¼šè¢« catch æ•è·åˆ°ã€‚å½“ç„¶å¦‚æœæœ‰å¤šä¸ª await å‘½ä»¤ï¼Œå¯ä»¥ç»Ÿä¸€æ”¾åœ¨ try...catch è¯­å¥ä¸­å¤„ç†ã€‚ Promise å¯¹è±¡çš„çŠ¶æ€å˜åŒ– ä½¿ç”¨æ³¨æ„ç‚¹ å®ä¾‹ æŒ‰é¡ºåºå®Œæˆå¼‚æ­¥æ“ä½œ å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°ä¸€ç»„å¼‚æ­¥æ“ä½œï¼Œå¦‚ä¸€ç»„ç½‘ç»œè¯·æ±‚ï¼Œéœ€è¦æŒ‰é¡ºåºå®Œæˆï¼Œç„¶åæŒ‰ç…§é¡ºåºè¾“å‡ºç»“æœã€‚ Promise å†™æ³•å¦‚ä¸‹ã€‚ function logInOrder(urls) { // è¿œç¨‹è¯»å–æ‰€æœ‰URL const textPromises = urls.map((url) => { return fetch(url).then((response) => response.text()) }) // æŒ‰æ¬¡åºè¾“å‡º textPromises.reduce((chain, textPromise) => { return chain.then(() => textPromise).then((text) => console.log(text)) }, Promise.resolve()) } ä¸Šé¢ä»£ç ä½¿ç”¨ fetch æ–¹æ³•ï¼Œè¯·æ±‚ä¸€ç»„ URLã€‚æ¯ä¸ª fetch éƒ½ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ”¾å…¥ textPromises æ•°ç»„ã€‚ç„¶åï¼Œä½¿ç”¨ reduce æ–¹æ³•ä¾æ¬¡å¤„ç†æ¯ä¸ª Promise å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ then å°†æ‰€æœ‰ Promise å¯¹è±¡è¿æ¥èµ·æ¥ï¼Œä¾æ¬¡è¾“å‡ºç»“æœã€‚ ä¸‹é¢ç”¨ async å‡½æ•°æ”¹é€ ã€‚ async function logInOrder(urls) { for (const url of urls) { const response = await fetch(url) console.log(await response.text()) } } ä¸Šé¢ä»£ç ç®€æ´äº†å¾ˆå¤šï¼Œé—®é¢˜æ˜¯æ‰€æœ‰ fetch æ“ä½œéƒ½æ˜¯ç»§å‘ï¼Œæ•ˆç‡å¾ˆå·®ã€‚å¹¶å‘æ”¹é€ å¦‚ä¸‹ã€‚ async function logInOrder(urls) { // å¹¶å‘è¯»å–è¿œç¨‹URL const textPromises = urls.map(async (url) => { const response = await fetch(url) return response.text() }) // æŒ‰æ¬¡åºè¾“å‡º for (const textPromise of textPromises) { console.log(await textPromise) } } ä¸Šé¢ä»£ç ä¸­ï¼Œè™½ç„¶ map æ–¹æ³•çš„å‚æ•°æ˜¯ async å‡½æ•°ï¼Œä½†å®ƒæ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œå› ä¸ºåªæœ‰ async å‡½æ•°å†…éƒ¨æ˜¯ç»§å‘æ‰§è¡Œï¼Œå¤–éƒ¨ä¸å—å½±å“ã€‚åé¢çš„ for..of å¾ªç¯å†…éƒ¨ä½¿ç”¨äº† awaitï¼Œå› æ­¤å®ç°äº†æŒ‰é¡ºåºè¾“å‡ºã€‚ ä¼‘çœ æ•ˆæœ JavaScript ä¸€ç›´æ²¡æœ‰ä¼‘çœ çš„è¯­æ³•ï¼Œä½†æ˜¯å€ŸåŠ© await å‘½ä»¤å¯ä»¥è®©ç¨‹åºåœé¡¿æŒ‡å®šçš„æ—¶é—´ã€‚ function sleep(interval) { return new Promise((resolve) => { setTimeout(resolve, interval) }) } // ç”¨æ³• async function log() { for (let i = 1; i ä½¿ç”¨ try...catch ç»“æ„ï¼Œå®ç°å¤šæ¬¡é‡å¤å°è¯• åœ¨å®é™…å¼€å‘ä¸­ï¼Œæœ‰æ—¶å½“ç”±äºç½‘ç»œç­‰åŸå› å¯¼è‡´è¯·æ±‚æŠ¥é”™ï¼Œæˆ‘ä»¬æœŸæœ›è¯·æ±‚èƒ½å¤Ÿé‡è¯•æŒ‡å®šçš„æ¬¡æ•°ã€‚ const NUM_RETRIES = 3 async function test() { let i for (i = 0; i Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2017/sharedmem.html":{"url":"es2017/sharedmem.html","title":"Shared Memory and Atomics","keywords":"","body":"Shared Memory and Atomics ç®€ä»‹ ECMAScript 2017 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ„é€ å‡½æ•° SharedArrayBuffer å’Œ å…·æœ‰è¾…åŠ©å‡½æ•°çš„å‘½åç©ºé—´å¯¹è±¡ Atomicsã€‚ è¯­æ³• SharedArrayBuffer JavaScript æ˜¯å•çº¿ç¨‹ï¼ŒWeb worker å¼•å…¥äº†å¤šçº¿ç¨‹ï¼šä¸»çº¿ç¨‹ç”¨æ¥ä¸ç”¨æˆ·äº’åŠ¨ï¼ŒWorker çº¿ç¨‹ç”¨æ¥æ‰¿æ‹…è®¡ç®—ä»»åŠ¡ã€‚æ¯ä¸ªçº¿ç¨‹çš„æ•°æ®éƒ½æ˜¯éš”ç¦»çš„ï¼Œé€šè¿‡ postMessage() é€šä¿¡ã€‚ // ä¸»çº¿ç¨‹ const w = new Worker('worker.js') w.postMessage('hello') w.onmessage = function (ev) { console.log(ev.data) } // worker.js onmessage = function (ev) { console.log(ev.data) postMessage('hi') } ä¸Šé¢ä»£ç ä¸­ï¼Œä¸»çº¿ç¨‹åˆ›å»ºäº†ä¸€ä¸ª Woker çº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹ä¸ä¸»çº¿ç¨‹ä¹‹é—´é€šè¿‡ postMessage() é€šä¿¡ã€‚ çº¿ç¨‹ä¹‹é—´çš„æ•°æ®äº¤æ¢å¯ä»¥æ˜¯å„ç§æ ¼å¼ï¼Œè¿™ç§æ•°æ®äº¤æ¢é‡‡ç”¨å¤åˆ¶æœºåˆ¶ï¼Œå³ä¸€ä¸ªè¿›ç¨‹å°†è¦åˆ†äº«çš„æ•°æ®å¤åˆ¶ä¸€ä»½ï¼Œé€šè¿‡ postMessage æ–¹æ³•å‘é€ç»™å¦ä¸€ä¸ªè¿›ç¨‹ã€‚å¦‚æœæ•°æ®é‡è¾ƒå¤§ï¼Œé€šä¿¡çš„æ•ˆç‡ä¼šæ˜æ˜¾è¾ƒä½ã€‚å…±äº«å†…å­˜çš„æ–¹å¼ï¼Œä¼šå¤§å¤§æé«˜æ•ˆç‡ã€‚ SharedArrayBuffer å¯¹è±¡ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªé€šç”¨çš„ï¼Œå›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºï¼Œç±»ä¼¼äº ArrayBuffer å¯¹è±¡ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åè€…æ— æ³•å…±äº«æ•°æ®ã€‚ new SharedArrayBuffer(length) å‚æ•° lengthï¼šæ‰€åˆ›å»ºçš„æ•°ç»„ç¼“å†²åŒºçš„å¤§å°ï¼Œä»¥å­—èŠ‚(byte)ä¸ºå•ä½ã€‚ è¿”å›å€¼ ä¸€ä¸ªå¤§å°æŒ‡å®šçš„æ–° SharedArrayBuffer å¯¹è±¡ã€‚å…¶å†…å®¹è¢«åˆå§‹åŒ–ä¸º 0ã€‚ ç¤ºä¾‹ // ä¸»çº¿ç¨‹ // æ–°å»º 1KB å…±äº«å†…å­˜ const sharedBuffer = new SharedArrayBuffer(1024) // ä¸»çº¿ç¨‹å°†å…±äº«å†…å­˜çš„åœ°å€å‘é€å‡ºå» w.postMessage(sharedBuffer) // åœ¨å…±äº«å†…å­˜ä¸Šå»ºç«‹è§†å›¾ï¼Œä¾›å†™å…¥æ•°æ® const sharedArray = new Int32Array(sharedBuffer) // Worker çº¿ç¨‹ onmessage = function (ev) { // ä¸»çº¿ç¨‹å…±äº«çš„æ•°æ®ï¼Œå°±æ˜¯ 1KB çš„å…±äº«å†…å­˜ const sharedBuffer = ev.data // åœ¨å…±äº«å†…å­˜ä¸Šå»ºç«‹è§†å›¾ï¼Œæ–¹ä¾¿è¯»å†™ const sharedArray = new Int32Array(sharedBuffer) // ... } å…±äº«å†…å­˜ä¹Ÿå¯ä»¥åœ¨ Worker çº¿ç¨‹åˆ›å»ºï¼Œå‘ç»™ä¸»çº¿ç¨‹ã€‚ æ³¨æ„ï¼š SharedArrayBuffer ä¸ ArrayBuffer ä¸€æ ·ï¼Œæœ¬èº«æ˜¯æ— æ³•è¯»å†™çš„ï¼Œå¿…é¡»åœ¨ä¸Šé¢å»ºç«‹è§†å›¾ï¼Œç„¶åé€šè¿‡è§†å›¾è¯»å†™ã€‚ Atomics å¤šçº¿ç¨‹å…±äº«å†…å­˜ï¼Œæœ€å¤§çš„é—®é¢˜å°±æ˜¯é˜²æ­¢ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹æŸä¸ªåœ°å€ï¼Œæˆ–è€…è¯´ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹å…±äº«å†…å­˜ä»¥åï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæœºåˆ¶è®©å…¶ä»–çº¿ç¨‹åŒæ­¥ã€‚SharedArrayBuffer API æä¾› Atomics å¯¹è±¡ï¼Œä¿è¯æ‰€æœ‰å…±äº«å†…å­˜çš„æ“ä½œéƒ½æ˜¯â€œåŸå­æ€§â€çš„ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ‰€æœ‰çº¿ç¨‹å†…åŒæ­¥ã€‚ åŸå­æ“ä½œï¼šå¤šä¸ªå…±äº«å†…å­˜çš„çº¿ç¨‹èƒ½å¤ŸåŒæ—¶è¯»å†™åŒä¸€ä½ç½®ä¸Šçš„æ•°æ®ã€‚åŸå­æ“ä½œä¼šç¡®ä¿æ­£åœ¨è¯»æˆ–å†™çš„æ•°æ®çš„å€¼æ˜¯ç¬¦åˆé¢„æœŸçš„ï¼Œå³ä¸‹ä¸€ä¸ªåŸå­æ“ä½œä¸€å®šä¼šåœ¨ä¸Šä¸€ä¸ªåŸå­æ“ä½œç»“æŸåæ‰ä¼šå¼€å§‹ï¼Œå…¶æ“ä½œè¿‡ç¨‹ä¸ä¼šä¸­æ–­ã€‚ ä¸ä¸€èˆ¬çš„å…¨å±€å¯¹è±¡ä¸åŒï¼ŒAtomics ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨ new æ“ä½œç¬¦è°ƒç”¨ï¼Œä¹Ÿä¸èƒ½å°†å…¶å½“ä½œå‡½æ•°ç›´æ¥è°ƒç”¨ã€‚Atomics çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼ˆä¸ Math å¯¹è±¡ä¸€æ ·ï¼‰ã€‚ æ–¹æ³• Atomics.store()ï¼ŒAtomics.load() store() æ–¹æ³•ç”¨æ¥å‘å…±äº«å†…å­˜å†™å…¥æ•°æ®ï¼Œå¹¶è¿”å›è¯¥å€¼ã€‚ load() æ–¹æ³•ç”¨æ¥ä»å…±äº«å†…å­˜è¯»å‡ºæ•°æ®ã€‚ Atomics.store(typedArray, index, value)Atomics.load(typedArray, index) typedArray ä¸€ä¸ªæŒ‡å®šç±»å‹çš„ shared æ•°ç»„. ç±»å‹ä¸º Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, æˆ–è€… Uint32Array å…¶ä¸­ä¸€ä¸ªã€‚ index typedArray ä¸­ç”¨æ¥å­˜å‚¨ value çš„ä½ç½®ã€‚ value è¦å­˜å‚¨çš„æ•°å­—ã€‚ var sab = new SharedArrayBuffer(1024) var ta = new Uint8Array(sab) Atomics.store(ta, 0, 12) // 12 Atomics.load(ta, 0) // 12 Atomics.exchange() å°†æ•°ç»„ä¸­æŒ‡å®šçš„å…ƒç´ æ›´æ–°ä¸ºç»™å®šçš„å€¼ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ æ›´æ–°å‰çš„å€¼ã€‚ Atomics.exchange(typedArray, index, value) var sab = new SharedArrayBuffer(1024) var ta = new Uint8Array(sab) Atomics.exchange(ta, 0, 12) // returns 0, the old value Atomics.load(ta, 0) // 12 Atomics.wait()ï¼ŒAtomics.notify() è¿™ä¸¤ä¸ªæ–¹æ³•ç›¸å½“äºé”å†…å­˜ï¼Œå³åœ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ“ä½œæ—¶ï¼Œè®©å…¶ä»–çº¿ç¨‹ä¼‘çœ ï¼ˆå»ºç«‹é”ï¼‰ï¼Œç­‰åˆ°æ“ä½œç»“æŸï¼Œå†å”¤é†’é‚£äº›ä¼‘çœ çš„çº¿ç¨‹ï¼ˆè§£é™¤é”ï¼‰ã€‚ Atomics.wait(typedArray, index, value[, timeout]) typedArray ä¸€ä¸ªå…±äº«çš„ Int32Arrayã€‚ index typedArray ä¸­è¦å”¤é†’çš„ç›®æ ‡ç´¢å¼•ã€‚ value ç»™å®šéœ€è¦æ£€æµ‹çš„ä½ç½®ç´¢å¼•çš„é¢„æœŸå€¼ã€‚ timeout å¯é€‰ï¼Œè¶…æ—¶å‰ç­‰å¾…çš„æ¯«ç§’æ•°ã€‚ Infinity, å¦‚æœªæä¾›è¯¥å‚æ•°ï¼Œå°†ä¸ºæ— ç©·å¤§ã€‚ Atomics.notify(typedArray, index, count) count è¦é€šçŸ¥çš„æ­£åœ¨ä¼‘çœ çš„ä»£ç†çš„æ•°é‡ã€‚é»˜è®¤æ˜¯ +Infinityã€‚ è¿”å›å€¼ ä¸€ä¸ª String å­—ç¬¦ä¸²ï¼Œå€¼ä¸º \"ok\", \"not-equal\", æˆ– \"timed-out\" ä¸‰ç§ä¹‹ä¸€ã€‚ å¦‚æœ sharedArray[index] ä¸ç­‰äº valueï¼Œå°±è¿”å›å­—ç¬¦ä¸² not-equalï¼Œå¦åˆ™å°±è¿›å…¥ä¼‘çœ ã€‚å¦‚æœ Atomics.notify() æ–¹æ³•å”¤é†’ï¼Œå°±è¿”å›å­—ç¬¦ä¸² okï¼›å¦‚æœå› ä¸ºè¶…æ—¶å”¤é†’ï¼Œå°±è¿”å›å­—ç¬¦ä¸² timed-outã€‚ // Worker çº¿ç¨‹ self.addEventListener( 'message', (event) => { const sharedArray = new Int32Array(event.data) const arrayIndex = 0 const expectedStoredValue = 50 Atomics.wait(sharedArray, arrayIndex, expectedStoredValue) console.log(Atomics.load(sharedArray, arrayIndex)) }, false, ) ä¸Šé¢ä»£ç ä¸­ï¼ŒAtomics.wait() æ–¹æ³•ç­‰åŒäºå‘Šè¯‰ Worker çº¿ç¨‹ï¼Œåªè¦æ»¡è¶³ç»™å®šæ¡ä»¶ï¼ˆsharedArray çš„ 0 å·ä½ç½®ç­‰äº 50ï¼‰ï¼Œå°±åœ¨è¿™ä¸€è¡Œ Worker çº¿ç¨‹è¿›å…¥ä¼‘çœ ã€‚ // ä¸»çº¿ç¨‹ const newArrayValue = 100 Atomics.store(sharedArray, 0, newArrayValue) const arrayIndex = 0 const queuePos = 1 Atomics.notify(sharedArray, arrayIndex, queuePos) ä¸Šé¢ä»£ç ä¸­ï¼ŒsharedArray çš„ 0 å·ä½ç½®æ”¹ä¸º 100ï¼Œç„¶åå°±æ‰§è¡Œ Atomics.notify()æ–¹æ³•ï¼Œå”¤é†’åœ¨ sharedArray çš„ 0 å·ä½ç½®ä¼‘çœ é˜Ÿåˆ—é‡Œçš„ä¸€ä¸ªçº¿ç¨‹ã€‚ æ³¨æ„ï¼Œæµè§ˆå™¨çš„ä¸»çº¿ç¨‹ä¸å®œè®¾ç½®ä¼‘çœ ï¼Œè¿™ä¼šå¯¼è‡´ç”¨æˆ·å¤±å»å“åº”ã€‚è€Œä¸”ï¼Œä¸»çº¿ç¨‹å®é™…ä¸Šä¼šæ‹’ç»è¿›å…¥ä¼‘çœ ã€‚ Atomics.add() å°†æŒ‡å®šä½ç½®ä¸Šçš„æ•°ç»„å…ƒç´ ä¸ç»™å®šçš„å€¼ç›¸åŠ ï¼Œå¹¶è¿”å›ç›¸åŠ å‰è¯¥å…ƒç´ çš„å€¼ã€‚ Atomics.add(typedArray, index, value) var sab = new SharedArrayBuffer(1024) var ta = new Uint8Array(sab) Atomics.add(ta, 0, 12) // returns 0, the old value Atomics.load(ta, 0) // 12 Atomics.and() å°†æŒ‡å®šä½ç½®ä¸Šçš„æ•°ç»„å…ƒç´ ä¸ç»™å®šçš„å€¼ç›¸ä¸ï¼Œå¹¶è¿”å›ä¸æ“ä½œå‰è¯¥å…ƒç´ çš„å€¼ã€‚ Atomics.and(typedArray, index, value) var sab = new SharedArrayBuffer(1024) var ta = new Uint8Array(sab) ta[0] = 5 Atomics.and(ta, 0, 1) // returns 0, the old value Atomics.load(ta, 0) // 1 Atomics.compareExchange() å¦‚æœæ•°ç»„ä¸­æŒ‡å®šçš„å…ƒç´ ä¸ç»™å®šçš„å€¼ç›¸ç­‰ï¼Œåˆ™å°†å…¶æ›´æ–°ä¸ºæ–°çš„å€¼ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ åŸå…ˆçš„å€¼ã€‚ Atomics.compareExchange(typedArray, index, expectedValue, replacementValue) expectedValue ç”¨äºæ¯”è¾ƒçš„å€¼ã€‚ replacementValue å°†è¦æ›¿æ¢ä¸Šçš„å€¼ã€‚ var sab = new SharedArrayBuffer(1024) var ta = new Uint8Array(sab) ta[0] = 7 Atomics.compareExchange(ta, 0, 7, 12) // returns 7, the old value Atomics.load(ta, 0) // 12 Atomics.isLockFree() è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Atomics å¯¹è±¡æ˜¯å¦å¯ä»¥å¤„ç†æŸä¸ª size çš„å†…å­˜é”å®šã€‚å¦‚æœè¿”å› falseï¼Œåº”ç”¨ç¨‹åºå°±éœ€è¦è‡ªå·±æ¥å®ç°é”å®šã€‚ Atomics.isLockFree(size) Atomics.isLockFree(1) // true Atomics.isLockFree(2) // true Atomics.isLockFree(3) // false Atomics.isLockFree(4) // true Atomics.isLockFree(5) // false Atomics.isLockFree(6) // false Atomics.isLockFree(7) // false Atomics.isLockFree(8) // false Atomics.isLockFree(Float64Array.BYTES_PER_ELEMENT) // false,Atomicsæ–¹æ³•æ— æ³•å¤„ç†Float64Array Atomics.or() å°†æŒ‡å®šä½ç½®ä¸Šçš„æ•°ç»„å…ƒç´ ä¸ç»™å®šçš„å€¼ç›¸æˆ–ï¼Œå¹¶è¿”å›æˆ–æ“ä½œå‰è¯¥å…ƒç´ çš„å€¼ã€‚ Atomics.or(typedArray, index, value) var sab = new SharedArrayBuffer(1024) var ta = new Uint8Array(sab) ta[0] = 2 Atomics.or(ta, 0, 1) // returns 2, the old value Atomics.load(ta, 0) // 3 Atomics.sub() å°†æŒ‡å®šä½ç½®ä¸Šçš„æ•°ç»„å…ƒç´ ä¸ç»™å®šçš„å€¼ç›¸å‡ï¼Œå¹¶è¿”å›ç›¸å‡å‰è¯¥å…ƒç´ çš„å€¼ã€‚ Atomics.sub(typedArray, index, value) const sab = new SharedArrayBuffer(1024) const ta = new Uint8Array(sab) ta[0] = 48 Atomics.sub(ta, 0, 12) // returns 48, the old value Atomics.load(ta, 0) // 36 Atomics.xor() å°†æŒ‡å®šä½ç½®ä¸Šçš„æ•°ç»„å…ƒç´ ä¸ç»™å®šçš„å€¼ç›¸å¼‚æˆ–ï¼Œå¹¶è¿”å›å¼‚æˆ–æ“ä½œå‰è¯¥å…ƒç´ çš„å€¼ã€‚ Atomics.xor(typedArray, index, value) const sab = new SharedArrayBuffer(1024) const ta = new Uint8Array(sab) ta[0] = 5 Atomics.xor(ta, 0, 1) // returns 5, the old value Atomics.load(ta, 0) // 4 Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2017/object-values-entries.html":{"url":"es2017/object-values-entries.html","title":"Object.values / Object.entries","keywords":"","body":"Object.values / Object.entries ç®€ä»‹ åœ¨ Object ä¸­ï¼ŒES2017 æ–°å¢äº†ä¸¤ä¸ªæ–°çš„å‡½æ•°ï¼Œåˆ†åˆ«æ˜¯ Object.values å‡½æ•°å’Œ Object.entries å‡½æ•°ã€‚ Object.values() æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å€¼çš„æ•°ç»„ï¼Œå€¼çš„é¡ºåºä¸ä½¿ç”¨ for...in å¾ªç¯çš„é¡ºåºç›¸åŒï¼ˆåŒºåˆ«åœ¨äº for-in å¾ªç¯æšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ï¼‰ã€‚ Object.entries() æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼Œå…¶æ’åˆ—ä¸ä½¿ç”¨ for...in å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ï¼ˆåŒºåˆ«åœ¨äº for-in å¾ªç¯è¿˜ä¼šæšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ï¼‰ã€‚ ä¸¤è€…æšä¸¾å±æ€§çš„é¡ºåºä¸é€šè¿‡æ‰‹åŠ¨å¾ªç¯å¯¹è±¡çš„å±æ€§å€¼æ‰€ç»™å‡ºçš„é¡ºåºç›¸åŒï¼Œå¦‚æœå±æ€§åä¸ºæ•°å€¼çš„å±æ€§ï¼Œæ˜¯æŒ‰ç…§æ•°å€¼å¤§å°ï¼Œä»å°åˆ°å¤§éå†çš„ã€‚ è¯­æ³• Object.values() å±æ€§å€¼ä¸ºå­—ç¬¦ä¸² const obj = { foo: 'bar', baz: 'test' } Object.values(obj) // [\"bar\", \"test\"] å±æ€§å€¼ä¸ºæ•°å­— const obj = { 666: 'a', 2: 'b', 8: 'c' } Object.values(obj) // [\"b\", \"c\", \"a\"] ä¸Šé¢ä¾‹å­ä¸­ï¼Œå±æ€§åä¸ºæ•°å€¼ï¼ŒæŒ‰ç…§æ•°å€¼å¤§å°éå†ï¼Œå› æ­¤è¿”å›çš„é¡ºåºæ˜¯ bã€cã€aã€‚ åªè¿”å›å¯¹è±¡æœ¬èº«çš„å¯éå†å±æ€§ const obj = Object.create({}, { p: { value: 42 } }) Object.values(obj) // [] ä¸Šé¢ä»£ç ä¸­ï¼ŒObject.create æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ·»åŠ çš„å¯¹è±¡å±æ€§ enumerable é»˜è®¤æ˜¯ falseï¼ŒObject.values ä¸ä¼šè¿”å›è¿™ä¸ªå±æ€§ã€‚åªè¦æŠŠ enumerable æ”¹æˆ trueï¼ŒObject.values å°±ä¼šè¿”å›å±æ€§ p çš„å€¼ã€‚ const obj = Object.create( {}, { p: { value: 42, enumerable: true, }, }, ) Object.values(obj) // [42] å±æ€§å€¼ä¸º Symbol Object.values({ [Symbol()]: 123, foo: 'abc' }) // ['abc'] Object.values ä¼šè¿‡æ»¤å±æ€§åä¸º Symbol å€¼çš„å±æ€§ã€‚ å‚æ•°ä¸æ˜¯å¯¹è±¡ å¦‚æœ Object.values æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šè¿”å›å„ä¸ªå­—ç¬¦ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚ Object.values('foo') // ['f', 'o', 'o'] å¦‚æœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.values ä¼šå…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚ ç”±äºæ•°å€¼å’Œå¸ƒå°”å€¼çš„åŒ…è£…å¯¹è±¡ï¼Œéƒ½ä¸ä¼šä¸ºå®ä¾‹æ·»åŠ éç»§æ‰¿çš„å±æ€§ã€‚æ‰€ä»¥ï¼ŒObject.values ä¼šè¿”å›ç©ºæ•°ç»„ã€‚ Object.values(42) // [] Object.values(true) // [] Object.entries() é™¤äº†è¿”å›å€¼ä¸ä¸€æ ·ï¼Œè¯¥æ–¹æ³•çš„è¡Œä¸ºä¸ Object.values åŸºæœ¬ä¸€è‡´ã€‚ éå†å¯¹è±¡çš„å±æ€§ const obj = { a: 5, b: 7, c: 9 } for (const [key, value] of Object.entries(obj)) { console.log(`${key}: ${value}`) } // \"a: 5\", \"b: 7\", \"c: 9\" å°† Object è½¬ä¸º Map ç»“æ„ new Map() æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå¯è¿­ä»£çš„ entriesã€‚å€ŸåŠ© Object.entries æ–¹æ³•ä½ å¯ä»¥å¾ˆå®¹æ˜“çš„å°† Object è½¬æ¢ä¸º Map: var obj = { foo: 'bar', baz: 42 } var map = new Map(Object.entries(obj)) console.log(map) // Map { foo: \"bar\", baz: 42 } Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2017/string-pad-start-end.html":{"url":"es2017/string-pad-start-end.html","title":"String padding","keywords":"","body":"String padding ç®€ä»‹ åœ¨ String å¯¹è±¡ä¸­ï¼ŒES2017 å¢åŠ äº†ä¸¤ä¸ªæ–°çš„å‡½æ•°ï¼Œå­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦åŠŸèƒ½ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚padStart() ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼ŒpadEnd() ç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚ è¯­æ³• str.padStart(targetLength [, padString])str.padEnd(targetLength [, padString]) å‚æ•°ï¼š targetLengthï¼šå½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚ padStringï¼šå¯é€‰ï¼Œå¡«å……å­—ç¬¦ä¸²ã€‚æ­¤å‚æ•°çš„é»˜è®¤å€¼ä¸º \" \"ã€‚ è¿”å›å€¼ï¼š åœ¨åŸå­—ç¬¦ä¸²å¼€å¤´å¡«å……æŒ‡å®šçš„å¡«å……å­—ç¬¦ä¸²ç›´åˆ°ç›®æ ‡é•¿åº¦æ‰€å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ å®ä¾‹ åŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç­‰äºæˆ–å¤§äºæœ€å¤§é•¿åº¦ï¼Œåˆ™å­—ç¬¦ä¸²è¡¥å…¨ä¸ç”Ÿæ•ˆï¼Œè¿”å›åŸå­—ç¬¦ä¸²ã€‚ 'xxx'.padStart(2, 'ab') // 'xxx' 'xxx'.padEnd(2, 'ab') // 'xxx' å¦‚æœç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²ï¼Œä¸¤è€…çš„é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æœ€å¤§é•¿åº¦ï¼Œåˆ™ä¼šæˆªå»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚ 'abc'.padStart(10, '0123456789') // '0123456abc' å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦ã€‚ 'x'.padStart(4) // ' x' 'x'.padEnd(4) // 'x ' Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2017/trailing-function-commas.html":{"url":"es2017/trailing-function-commas.html","title":"Trailing comma","keywords":"","body":"å‡½æ•°å‚æ•°åˆ—è¡¨ç»“å°¾å…è®¸é€—å· ç®€ä»‹ ES2017 å…è®¸å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°æœ‰å°¾é€—å·ï¼ˆtrailing commaï¼‰ã€‚æ­¤å‰ï¼Œå‡½æ•°å®šä¹‰å’Œè°ƒç”¨æ—¶ï¼Œéƒ½ä¸å…è®¸æœ€åä¸€ä¸ªå‚æ•°åé¢å‡ºç°é€—å·ã€‚ è¯­æ³• function clownPuppiesEverywhere( param1, + param2 // this line ) { /* ... */ } clownPuppiesEverywhere( 'foo', + 'bar' // this line ) ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¿®æ”¹ä»£ç æ·»åŠ ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæˆ–è€…è°ƒæ•´å‚æ•°çš„æ¬¡åºï¼Œå°±è¦åœ¨åŸæ¥æœ€åä¸€ä¸ªå‚æ•°çš„åé¢æ·»åŠ é€—å·ï¼Œå¯¹äºç‰ˆæœ¬ç®¡ç†æ¥è¯´ï¼Œå°±ä¼šæ˜¾ç¤ºæ·»åŠ é€—å·çš„é‚£ä¸€è¡Œå‘ç”Ÿäº†å˜åŠ¨ã€‚çœ‹ä¸Šå»åˆå†™å†—ä½™ã€‚ function clownPuppiesEverywhere( param1, param2, // this line ) { /* ... */ } clownPuppiesEverywhere( 'foo', 'bar', // this line ) è¿™æ ·çš„è§„å®šä¹Ÿä½¿å¾—ï¼Œå‡½æ•°å‚æ•°ä¸æ•°ç»„å’Œå¯¹è±¡çš„å°¾é€—å·è§„åˆ™ï¼Œä¿æŒä¸€è‡´äº†ã€‚ Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2017/object-getownpropertydescriptors.html":{"url":"es2017/object-getownpropertydescriptors.html","title":"Object.getOwnPropertyDescriptors","keywords":"","body":"Object.getOwnPropertyDescriptors ç®€ä»‹ ES5 çš„ Object.getOwnPropertyDescriptor() æ–¹æ³•ä¼šè¿”å›æŸä¸ªå¯¹è±¡å±æ€§çš„æè¿°å¯¹è±¡ï¼ˆdescriptorï¼‰ã€‚ES2017 å¼•å…¥äº† Object.getOwnPropertyDescriptors() æ–¹æ³•ï¼Œè¿”å›æŒ‡å®šå¯¹è±¡æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆéç»§æ‰¿å±æ€§ï¼‰çš„æè¿°å¯¹è±¡ã€‚ è¯­æ³• åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ã€‚ const obj = { foo: 123, get bar() { return 'abc' }, } Object.getOwnPropertyDescriptors(obj) // { foo: // { value: 123, // writable: true, // enumerable: true, // configurable: true }, // bar: // { get: [Function: get bar], // set: undefined, // enumerable: true, // configurable: true } } è¯¥æ–¹æ³•çš„å®ç°éå¸¸å®¹æ˜“ã€‚ function getOwnPropertyDescriptors(obj) { const result = {} for (let key of Reflect.ownKeys(obj)) { result[key] = Object.getOwnPropertyDescriptor(obj, key) } return result } è¯¥æ–¹æ³•å¼•å…¥çš„ç›®çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³ Object.assign() æ— æ³•æ­£ç¡®æ‹·è´ get å±æ€§å’Œ set å±æ€§çš„é—®é¢˜ã€‚Object.assign æ–¹æ³•æ€»æ˜¯æ‹·è´ä¸€ä¸ªå±æ€§çš„å€¼ï¼Œè€Œä¸ä¼šæ‹·è´å®ƒèƒŒåçš„èµ‹å€¼æ–¹æ³•æˆ–å–å€¼æ–¹æ³•ã€‚ è¿™æ—¶ï¼ŒObject.getOwnPropertyDescriptors() æ–¹æ³•é…åˆ Object.defineProperties() æ–¹æ³•ï¼Œå°±å¯ä»¥å®ç°æ­£ç¡®æ‹·è´ã€‚ const source = { set foo(value) { console.log(value) }, } const target2 = {} Object.defineProperties(target2, Object.getOwnPropertyDescriptors(source)) Object.getOwnPropertyDescriptor(target2, 'foo') // { get: undefined, // set: [Function: set foo], // enumerable: true, // configurable: true } å®ä¾‹ æµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡ é…åˆ Object.create() æ–¹æ³•ï¼Œå°†å¯¹è±¡å±æ€§å…‹éš†åˆ°ä¸€ä¸ªæ–°å¯¹è±¡ã€‚ Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj)) åˆ›å»ºå­ç±» åˆ›å»ºå­ç±»çš„å…¸å‹æ–¹æ³•æ˜¯å®šä¹‰å­ç±»ï¼Œå°†å…¶åŸå‹è®¾ç½®ä¸ºè¶…ç±»çš„å®ä¾‹ï¼Œç„¶ååœ¨è¯¥å®ä¾‹ä¸Šå®šä¹‰å±æ€§ã€‚è¿™ä¹ˆå†™å¾ˆä¸ä¼˜é›…ï¼Œç‰¹åˆ«æ˜¯å¯¹äº getters å’Œ setter è€Œè¨€ã€‚å¯ä»¥ä¸‹é¢æ–¹å¼è®¾ç½®åŸå‹ï¼š function superclass() {} superclass.prototype = { // åœ¨è¿™é‡Œå®šä¹‰æ–¹æ³•å’Œå±æ€§ } function subclass() {} subclass.prototype = Object.create( superclass.prototype, Object.getOwnPropertyDescriptors({ // åœ¨è¿™é‡Œå®šä¹‰æ–¹æ³•å’Œå±æ€§ }), ) Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2016/es2016.html":{"url":"es2016/es2016.html","title":"ECMAScript 2016 (ES7)","keywords":"","body":"ECMAScript 2016 (ES7) ç›®å½• Array.prototype.includes æ±‚å¹‚è¿ç®—ç¬¦(**) Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2016/array-prototype-includes.html":{"url":"es2016/array-prototype-includes.html","title":"Array.prototype.includes","keywords":"","body":"Array.prototype.includes() ç®€ä»‹ includes() æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ã€‚å¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ è¯­æ³• arr.includes(valueToFind[, fromIndex]) valueToFind éœ€è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ã€‚ fromIndex å¯é€‰ï¼Œä» fromIndex ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾ valueToFindã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™æŒ‰å‡åºä» array.length + fromIndex çš„ç´¢å¼•å¼€å§‹æœ ï¼ˆå³ä½¿ä»æœ«å°¾å¼€å§‹å¾€å‰è·³ fromIndex çš„ç»å¯¹å€¼ä¸ªç´¢å¼•ï¼Œç„¶åå¾€åæœå¯»ï¼‰ã€‚é»˜è®¤ä¸º 0ã€‚ ç¤ºä¾‹ åŸºæœ¬ä½¿ç”¨ [1, 2, 3].includes(2) // true [1, 2, 3].includes(4) // false [1, 2, 3].includes(3, 3) // false [1, 2, 3].includes(3, -1) // true [1, 2, NaN)].includes(NaN) // true fromIndex å¤§äºç­‰äºæ•°ç»„é•¿åº¦ å¦‚æœ fromIndex å¤§äºç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™ä¼šè¿”å› falseï¼Œä¸”è¯¥æ•°ç»„ä¸ä¼šè¢«æœç´¢ã€‚ var arr = ['a', 'b', 'c'] arr.includes('c', 3) // false arr.includes('c', 100) // false è®¡ç®—å‡ºçš„ç´¢å¼•å°äº 0 å¦‚æœ fromIndex ä¸ºè´Ÿå€¼ï¼Œè®¡ç®—å‡ºçš„ç´¢å¼•å°†ä½œä¸ºå¼€å§‹æœç´¢ searchElement çš„ä½ç½®ã€‚å¦‚æœè®¡ç®—å‡ºçš„ç´¢å¼•å°äº 0ï¼Œåˆ™æ•´ä¸ªæ•°ç»„éƒ½ä¼šè¢«æœç´¢ã€‚ // array length is 3 // fromIndex is -100 // computed index is 3 + (-100) = -97 var arr = ['a', 'b', 'c'] arr.includes('a', -100) // true arr.includes('b', -100) // true arr.includes('c', -100) // true arr.includes('a', -2) // false Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "},"es2016/proposal-exponentiation-operator.html":{"url":"es2016/proposal-exponentiation-operator.html","title":"æ±‚å¹‚è¿ç®—ç¬¦(**)","keywords":"","body":"æ±‚å¹‚è¿ç®—ç¬¦(**) è¯­æ³• æ±‚å¹‚è¿ç®—ç¬¦ ** ç­‰ä»·äº Math.pow()ï¼Œä½†æ˜¯å®ƒè¢«å¼•å…¥è¯­è¨€æœ¬èº«ï¼Œè€Œä¸æ˜¯åº“å‡½æ•°ã€‚ Math.pow(x, y) // 9 let squared = 3 ** 2 // 9 let num = 3 num **= 2 console.log(num) // 9 Copyright Â© é›¶åº¦å®éªŒå®¤ 2020 all right reservedï¼Œpowered by Gitbookä¿®è®¢æ—¶é—´ï¼š 2021-07-01 07:11:32 "}}